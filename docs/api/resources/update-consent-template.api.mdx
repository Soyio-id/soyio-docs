---
id: update-consent-template
title: "Actualizar un template de consentimiento"
description: "El modelo de template de consentimiento es versionado, por lo que cada cambio realizado no modifica la versión actual, sino que genera una nueva versión, dejando trazable el historial de cambios."
sidebar_label: "Actualizar un template de consentimiento"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "patch api-method"
info_path: docs/api/resources/soyio-api
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Actualizar un template de consentimiento"}
>
</Heading>

<MethodEndpoint
  method={"patch"}
  path={"/consent_templates/{id}"}
  context={"endpoint"}
>
  
</MethodEndpoint>



El modelo de template de consentimiento es versionado, por lo que cada cambio realizado no modifica la versión actual, sino que genera una nueva versión, dejando trazable el historial de cambios.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"name":"id","in":"path","required":true,"description":"ID del template de consentimiento","schema":{"type":"string"}}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["name","title","text","duration","data_requirements","data_subject"],"properties":{"name":{"type":"string","description":"Nombre del template","example":"Mi template de consentimiento"},"duration":{"type":"string","description":"Período de disponibilidad en [formato ISO](https://docs.digi.com/resources/documentation/digidocs/90001488-13/reference/r_iso_8601_duration_format.htm). Esto determina por cuánto tiempo puedes solicitar los datos del usuario desde que te dio su consentimiento.","example":"P2M"},"title":{"type":"string","description":"Titulo que aparecerá en el checkbox del módulo de consentimiento","example":"Consentimiento general"},"text":{"type":"string","description":"Texto del template de consentimiento. Permite referenciar [documentos de privacidad](/docs/api/resources/schemas/privacydocument).\n","example":"De acuerdo a los {{ terms_and_conditions }} y {{ privacy_policy }} de Soyio."},"data_requirements":{"type":"array","description":"Lista de requerimientos de datos","items":{"type":"object","required":["key","data_uses"],"properties":{"key":{"type":"string","description":"Clave del dato. Es un texto libre que identifica específicamente el dato involucrado en el consentimiento.","example":"first_name"},"data_category":{"type":"string","description":"Categoría del dato personal. Debe seguir la [taxonomía de categorías de datos](/docs/integration-guide/taxonomy).\n\nLas siguientes llaves (`key`) infieren la categoría del dato personal:\n\n--------------------\n\n  - `name`: Primer nombre (**Name > First**)\n  - `last_name`: Apellido (**Name > Last**)\n  - `date_of_birth`: Fecha de nacimiento (**Demographic > Birth date**)\n  - `cl_carnet_rut`: RUT (**Government Id > National Identification Number**)\n  - `cl_carnet_doc_number`: Número de documento (**Government Id**)\n  - `cl_carnet_expiration_date`: Fecha de expiración del documento (**Government Id**)\n  - `cl_carnet_issue_date`: Fecha de emisión del documento (**Government Id**)\n  - `gender`: Género (**Demographic > Gender**)\n  - `nationality`: Nacionalidad (**Demographic**)\n  - `email`: Correo electrónico (**Contact > Email**)\n  - `phone_number`: Teléfono (**Contact > Phone number**)\n\n--------------------\n\nEsto significa que si se utiliza alguna de estas llaves, no es necesario especificar la categoría del dato.\n\nSi se especifica una de estas llaves y además se especifica la categoría del dato, la categoría dada tendrá prioridad sobre la predefinida.\n","example":"user.name.first"},"data_uses":{"type":"array","description":"Lista de usos permitidos para el dato, parte de la taxonomía de usos de datos","items":{"type":"string"}}},"title":"DataRequirementInput"}},"data_subject":{"type":"string","description":"Tipo de sujeto de datos para el cual se aplica este template de consentimiento.\nDefine la categoría de persona o entidad cuyos datos personales serán procesados.\n","enum":["anonymous_user","citizen_voter","commuter","consultant","customer","employee","job_applicant","next_of_kin","passenger","patient","prospect","shareholder","supplier_vendor","trainee","visitor"],"example":"customer"},"product_id":{"type":"string","description":"Identificador único del producto. No puede estar presente si se especifica `branch_id`.","example":"prod_1B2M2Y8AsgTpgAmY7PhCfg"},"branch_id":{"type":"string","description":"Identificador único de la branch. No puede estar presente si se especifica `product_id`.","example":"branch_1B2M2Y8AsgTpgAmY7PhCfg"},"optional":{"type":"boolean","description":"Indica si el template de consentimiento es opcional.","example":false}},"title":"ConsentTemplateInput"}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Nueva versión del template de consentimiento, con los cambios realizados.","content":{"application/json":{"schema":{"description":"Una _consent template_ (template de consentimiento) es una configuración necesaria para el módulo de [_consent_](/docs/integration-guide/consent/introduction).\nEste modelo es versionado, por lo que cada cambio realizado genera una nueva versión, dejando trazable el historial de cambios.\n","x-tags":["Consent templates"],"allOf":[{"description":"Versión simplificada del template de consentimiento para listados.\nNo incluye `event_logs` para optimizar el tamaño de la respuesta.\n","x-tags":["Consent templates"],"type":"object","required":["id","name","title","text","version","duration","data_requirements","data_subject","created_at"],"properties":{"id":{"type":"string","description":"Identificador único. Debe empezar con `constpl_`","example":"constpl_wAspvmEr4ACDZaPUtfwjsA"},"name":{"type":"string","description":"Nombre descriptivo de la template","example":"Consentimiento básico"},"version":{"type":"integer","description":"Versión del template de consentimiento","example":1},"duration":{"type":"string","description":"Periodo de retención de datos en [formato ISO](https://docs.digi.com/resources/documentation/digidocs/90001488-13/reference/r_iso_8601_duration_format.htm)","example":"P12M3H"},"title":{"type":"string","description":"Titulo que aparecerá en el checkbox del módulo de consentimiento","example":"Consentimiento general"},"text":{"type":"string","description":"Texto del consentimiento. Permite referenciar [documentos de privacidad](/docs/api/resources/schemas/privacydocument).\n","example":"De acuerdo a los {{ terms_and_conditions }} y {{ privacy_policy }} de Soyio."},"data_requirements":{"type":"array","description":"Lista de requerimientos de datos con información adicional. Ver [recurso](/docs/api/resources/schemas/datarequirement) para más información.","minItems":1,"items":{"type":"object","x-tags":["Consent templates"],"properties":{"key":{"type":"string","description":"Clave del dato. Es un texto libre que identifica específicamente el dato involucrado en el consentimiento.","example":"first_name"},"data_category":{"type":"string","description":"Categoría del dato según Fideslang. Ver [taxonomía](/docs/integration-guide/taxonomy)","example":"user.name.first"},"data_uses":{"type":"array","description":"Lista de finalidades de tratamiento según Fideslang. Ver [taxonomía](/docs/integration-guide/taxonomy)","items":{"type":"string"}}},"title":"DataRequirement"}},"data_subject":{"type":"string","description":"Sujeto de derecho para el cual se aplica este template de consentimiento.\nDefine la categoría de persona o entidad cuyos datos personales serán procesados.\n","enum":["anonymous_user","citizen_voter","commuter","consultant","customer","employee","job_applicant","next_of_kin","passenger","patient","prospect","shareholder","supplier_vendor","trainee","visitor"],"example":"customer"},"product_id":{"type":"string","description":"Identificador único del producto. No puede estar presente si se especifica `branch_id`.","example":"prod_1B2M2Y8AsgTpgAmY7PhCfg"},"branch_id":{"type":"string","description":"Identificador único de la branch. No puede estar presente si se especifica `product_id`.","example":"branch_1B2M2Y8AsgTpgAmY7PhCfg"},"optional":{"type":"boolean","description":"Indica si el template de consentimiento es opcional.","example":false},"created_at":{"type":"string","format":"date-time","description":"Fecha y hora de creación del template de consentimiento","example":"2024-03-20T15:30:00Z"}},"title":"ConsentTemplateIndex"},{"type":"object","required":["event_logs"],"properties":{"event_logs":{"type":"array","description":"Registro de eventos relacionados con el template de consentimiento (creación y actualización)","items":{"type":"object","x-tags":["Consent templates"],"description":"Registro de un evento en el sistema","properties":{"timestamp":{"type":"string","format":"date-time","description":"Fecha y hora del evento","example":"2024-03-20T15:30:00Z"},"type":{"type":"string","description":"Tipo de evento","example":"created"},"description":{"type":"string","description":"Descripción del evento","example":"Consent template created"},"payload":{"type":"object","description":"Datos adicionales del evento","example":{"version":1,"created_by":"cusr_123"}}},"title":"EventLog"}}}}],"title":"ConsentTemplate"}}}},"401":{"description":"Error de autenticación","content":{"application/json":{"schema":{"type":"object","required":["type","title","status","detail"],"properties":{"type":{"type":"string","example":"authentication_error"},"title":{"type":"string","example":"Unauthorized"},"status":{"type":"integer","example":401},"detail":{"type":"string","example":"We could not authenticate your credentials. Please check the documentation at https://docs.soyio.id"}}}}}},"404":{"description":"Recurso no encontrado","content":{"application/json":{"schema":{"type":"object","required":["type","title","status","detail"],"properties":{"type":{"type":"string","example":"invalid_request_error"},"title":{"type":"string","example":"Resource not found"},"status":{"type":"integer","example":404},"detail":{"type":"string","example":"Couldn't find <resource> with id '<id>'. Please check your request and try again"}},"title":"NotFoundErrorSchema"}}}},"422":{"description":"Error de validación","content":{"application/json":{"schema":{"type":"object","required":["type","title","status","errors"],"properties":{"type":{"type":"string","example":"validation_error"},"title":{"type":"string","example":"Validation error"},"status":{"type":"integer","example":422},"errors":{"type":"array","items":{"type":"string"}}},"title":"ValidationError"}}}}}}
>
  
</StatusCodes>


      