---
id: agreement-updated
title: "Updated"
description: "#### Nombre del evento: `agreement.updated`."
sidebar_label: "Updated"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "event api-method"
info_path: docs/api/resources/soyio-api
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Updated"}
>
</Heading>

<MethodEndpoint
  method={"event"}
  path={"webhook"}
  context={"endpoint"}
>
  
</MethodEndpoint>



#### Nombre del evento: `agreement.updated`.
Se envía cuando un acuerdo (agreement) existente ha sido actualizado.


<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"description":"Contiene el recurso Agreement actualizado. El payload corresponde al esquema completo del recurso.","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string","description":"ID único del evento","example":"evt_1B2M2Y8AsgTpgAmY7PhCfg"},"name":{"type":"string","enum":["agreement.updated"],"description":"Nombre del evento"},"payload":{"allOf":[{"x-tags":["Agreements"],"type":"object","title":"Agreement","description":"Representa el estado actual de los permisos de un usuario para utilizar datos de acuerdo a la taxonomía de datos y usos de datos.\nPuede ser actualizado a través de distintas acciones del usuario y empresa en el tiempo.\n\n:::info\nPara más detalles, revisa nuestra sección de [conceptos generales](/docs/integration-guide/main/general-concepts#agreement).\n:::\n","properties":{"id":{"type":"string","description":"Identificador único del acuerdo.","example":"agr_IdBeyWCa1ENLUYnPRLpCUg"},"version":{"type":"integer","description":"Versión del acuerdo","example":1},"subject_id":{"type":"string","description":"Identificador único del usuario del acuerdo. Puede corresponder al identificador de un `Identity` o `Entity`. El `subject_type` indica el tipo del usuario en cuestión.","example":"ent_ma21KLsmaslopask912Aa2"},"subject_type":{"type":"string","description":"Tipo de sujeto del acuerdo. Puede ser `Identity` o `Entity`.","example":"Entity"},"version_source_type":{"type":"string","description":"Tipo de fuente de la versión del acuerdo. Puede ser `DisclosureRequest`, `ConsentAction` o `ConsentCommit`.","example":"ConsentCommit"},"version_source_id":{"type":"string","description":"Identificador único de la fuente de la versión del acuerdo. Puede ser el identificador de un `DisclosureRequest`, `ConsentAction` o `ConsentCommit`.","example":"consact_1B2M2Y8AsgTpgAmY7PhCfg"},"data_permissions":{"type":"array","description":"Datos procesados del agreement de acuerdo a la taxonomía de datos","items":{"type":"object","description":"Representa un dato procesado de acuerdo a la taxonomía de datos.","properties":{"data_category":{"type":"string","description":"Categoría del dato personal. Sigue la taxonomía de datos. Para más información, consulta [el detalle de la taxonomía](/docs/integration-guide/main/taxonomy)","example":"user.name.first"},"data_label":{"type":"string","description":"Identificador del dato","example":"name"},"data_use":{"type":"string","description":"Propósito específico del uso del dato. Sigue la taxonomía de usos de datos. Para más información, consulta [el detalle de la taxonomía](/docs/integration-guide/main/taxonomy)","example":"essential.service.authentication"},"scope_type":{"type":"string","enum":["product","branch"],"description":"Tipo de alcance del uso del dato. Un dato puede estar dentro del contexto de un [producto](/docs/api/resources/schemas/product) o de una [branch](/docs/api/resources/schemas/branch)","nullable":true},"scope_id":{"type":"string","description":"Identificador del producto o filial para la cual está vigente el uso del dato.","nullable":true},"scope_version":{"type":"string","description":"Versión del producto o filial para la cual está vigente el uso del dato.","nullable":true},"expires_at":{"type":"string","format":"date","description":"Fecha de expiración del permiso de uso"}},"title":"DataPermission"}},"user_reference":{"type":"string","description":"Referencia de usuario proporcionada por el cliente.","example":"user_123"},"previous_evidence_ids":{"type":"array","description":"IDs de evidencias anteriores relacionadas con este acuerdo","items":{"type":"string"},"example":["evd_pNMroI2OEfrDNdi8xT6kOQ"]},"created_at":{"type":"string","format":"date-time","description":"Fecha y hora de creación del acuerdo.","example":"2024-11-21T14:54:57.167Z"}}},{"type":"object","description":"Datos del acuerdo actualizado","properties":{"evidence":{"x-tags":["Agreements"],"type":"object","description":"Representa una evidencia que respalda un consentimiento o acuerdo.","properties":{"id":{"type":"string","description":"Identificador único de la evidencia.","example":"evd_wCntp5aXB5q7fKSthevwrw"},"integrity_hash":{"type":"string","description":"Hash criptográfico que garantiza la integridad de la evidencia.","example":"28b0f934..."},"legal_basis":{"type":"enum","description":"Base legal del acuerdo.","enum":["consent"],"example":"consent"},"consent_method":{"type":"object","description":"Información sobre el método de consentimiento utilizado.","properties":{"channel":{"type":"string","description":"Canal a través del cual se obtuvo el consentimiento.","example":"website"},"details":{"type":"string","description":"Detalles específicos sobre cómo se obtuvo el consentimiento.","example":"cliked in selector tab to opt-in consent"},"capture_facilitator":{"type":"string","description":"Entidad que facilitó el proceso de consentimiento.","example":"Soyio"},"capture_source":{"type":"string","description":"Entidad que fue responsable de capturar el consentimiento","example":"Salesforce"},"metadata":{"type":"object","description":"Metadatos adicionales de la forma de captura del consentimiento. Pueden ser referencias a flujos completos (identificadores de chats, urls de tickets, etc.) o descripciones de la forma de captura.","nullable":true,"example":{"details":"se le mostró al usuario el texto de consentimiento en un chatbot de whatsapp","chat_id":13928}},"actions":{"type":"array","description":"Lista de acciones realizadas por el usuario para consentimiento.","items":{"type":"object","properties":{"kind":{"type":"enum","description":"Tipo de acción (\"grant\" o \"revoke\")","enum":["grant","revoke"],"example":"grant"},"action_type":{"type":"enum","description":"Tipo específico de acción (solo \"opt_in_click\" por ahora)","enum":["opt_in_click"],"example":"opt_in_click"},"action_data":{"type":"object","description":"Datos adicionales de la acción (máximo 4KB de tamaño serializado en JSON)","example":{"checkbox_id":"cb_123"},"nullable":true},"action_id":{"type":"string","description":"Identificador único de la acción de consentimiento","example":"consact_1B2M2Y8AsgTpgAmY7PhCfg"},"template_id":{"type":"string","description":"Identificador del template de consentimiento asociado.","example":"ctmpl_1B2M2Y8AsgTpgAmY7PhCfg"},"template_version":{"type":"integer","description":"Versión del template de consentimiento asociado.","example":1},"timestamp":{"type":"string","format":"date-time","description":"Fecha y hora de la acción","example":"2024-03-20T15:30:00Z"},"contextual_data":{"type":"object","description":"Datos contextuales como IP, user agent, etc.","properties":{"ip":{"type":"string","example":"192.168.1.1"},"user_agent":{"type":"string","example":"Mozilla/5.0"},"url":{"type":"string","example":"https://example.com"},"phone_number":{"type":"string","example":"+56912345678"}}}}}}}},"identification_method":{"type":"object","description":"Información sobre el método de identificación utilizado.","properties":{"data_subject_id":{"type":"string","description":"ID del sujeto de datos identificado.","example":"id_ftKAfJCmbmGe1t2X1Kt3gw"},"type":{"type":"string","description":"Tipo de método de identificación utilizado.","example":"soyio.validation"},"type_reference":{"type":"string","description":"Referencia al proceso de identificación específico.","example":"va_Pwj5xTQYQ4vciUZPqnVTdg"}}},"event_logs":{"type":"array","description":"Registro cronológico de eventos relacionados con la evidencia.","items":{"type":"object","properties":{"description":{"type":"string","description":"Descripción del evento.","example":"Disclosure request was created"},"timestamp":{"type":"string","format":"date-time","description":"Fecha y hora del evento.","example":"2024-11-21T14:54:29.802Z"},"type":{"type":"string","description":"Tipo de evento.","example":"disclosure_created"}}}},"created_at":{"type":"string","format":"date-time","description":"Fecha y hora de creación de la evidencia.","example":"2024-11-21T14:54:57.202Z"}},"title":"Evidence"},"changes":{"type":"object","description":"Detalle de cambios en los permisos específicos de esta nueva versión del acuerdo","properties":{"created":{"type":"array","description":"Permisos que se han agregado en esta nueva versión del acuerdo","items":{"type":"object","description":"Representa un dato procesado de acuerdo a la taxonomía de datos.","properties":{"data_category":{"type":"string","description":"Categoría del dato personal. Sigue la taxonomía de datos. Para más información, consulta [el detalle de la taxonomía](/docs/integration-guide/main/taxonomy)","example":"user.name.first"},"data_label":{"type":"string","description":"Identificador del dato","example":"name"},"data_use":{"type":"string","description":"Propósito específico del uso del dato. Sigue la taxonomía de usos de datos. Para más información, consulta [el detalle de la taxonomía](/docs/integration-guide/main/taxonomy)","example":"essential.service.authentication"},"scope_type":{"type":"string","enum":["product","branch"],"description":"Tipo de alcance del uso del dato. Un dato puede estar dentro del contexto de un [producto](/docs/api/resources/schemas/product) o de una [branch](/docs/api/resources/schemas/branch)","nullable":true},"scope_id":{"type":"string","description":"Identificador del producto o filial para la cual está vigente el uso del dato.","nullable":true},"scope_version":{"type":"string","description":"Versión del producto o filial para la cual está vigente el uso del dato.","nullable":true},"expires_at":{"type":"string","format":"date","description":"Fecha de expiración del permiso de uso"}},"title":"DataPermission"}},"removed":{"type":"array","description":"Permisos que se han eliminado en esta nueva versión del acuerdo","items":{"type":"object","description":"Representa un dato procesado de acuerdo a la taxonomía de datos.","properties":{"data_category":{"type":"string","description":"Categoría del dato personal. Sigue la taxonomía de datos. Para más información, consulta [el detalle de la taxonomía](/docs/integration-guide/main/taxonomy)","example":"user.name.first"},"data_label":{"type":"string","description":"Identificador del dato","example":"name"},"data_use":{"type":"string","description":"Propósito específico del uso del dato. Sigue la taxonomía de usos de datos. Para más información, consulta [el detalle de la taxonomía](/docs/integration-guide/main/taxonomy)","example":"essential.service.authentication"},"scope_type":{"type":"string","enum":["product","branch"],"description":"Tipo de alcance del uso del dato. Un dato puede estar dentro del contexto de un [producto](/docs/api/resources/schemas/product) o de una [branch](/docs/api/resources/schemas/branch)","nullable":true},"scope_id":{"type":"string","description":"Identificador del producto o filial para la cual está vigente el uso del dato.","nullable":true},"scope_version":{"type":"string","description":"Versión del producto o filial para la cual está vigente el uso del dato.","nullable":true},"expires_at":{"type":"string","format":"date","description":"Fecha de expiración del permiso de uso"}},"title":"DataPermission"}},"extended":{"type":"array","description":"Permisos que se han extendido en esta nueva versión del acuerdo","items":{"type":"object","description":"Representa un dato procesado de acuerdo a la taxonomía de datos.","properties":{"data_category":{"type":"string","description":"Categoría del dato personal. Sigue la taxonomía de datos. Para más información, consulta [el detalle de la taxonomía](/docs/integration-guide/main/taxonomy)","example":"user.name.first"},"data_label":{"type":"string","description":"Identificador del dato","example":"name"},"data_use":{"type":"string","description":"Propósito específico del uso del dato. Sigue la taxonomía de usos de datos. Para más información, consulta [el detalle de la taxonomía](/docs/integration-guide/main/taxonomy)","example":"essential.service.authentication"},"scope_type":{"type":"string","enum":["product","branch"],"description":"Tipo de alcance del uso del dato. Un dato puede estar dentro del contexto de un [producto](/docs/api/resources/schemas/product) o de una [branch](/docs/api/resources/schemas/branch)","nullable":true},"scope_id":{"type":"string","description":"Identificador del producto o filial para la cual está vigente el uso del dato.","nullable":true},"scope_version":{"type":"string","description":"Versión del producto o filial para la cual está vigente el uso del dato.","nullable":true},"expires_at":{"type":"string","format":"date","description":"Fecha de expiración del permiso de uso"}},"title":"DataPermission"}}}}}}]},"created_at":{"type":"string","format":"date-time","description":"Fecha y hora de creación del evento"}}}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Webhook recibido correctamente"},"4XX":{"description":"Error en el procesamiento del webhook"}}}
>
  
</StatusCodes>


      