---
id: agreement-updated
title: "Updated"
description: "#### Nombre del evento: `agreement.updated`."
sidebar_label: "Updated"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "event api-method"
info_path: docs/api/resources/soyio-api
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Updated"}
>
</Heading>

<MethodEndpoint
  method={"event"}
  path={"webhook"}
  context={"endpoint"}
>
  
</MethodEndpoint>



#### Nombre del evento: `agreement.updated`.
Se envía cuando un acuerdo (agreement) existente ha sido actualizado.


<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"description":"Contiene el recurso Agreement actualizado. El payload corresponde al esquema completo del recurso.","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string","description":"ID único del evento","example":"evt_1B2M2Y8AsgTpgAmY7PhCfg"},"name":{"type":"string","enum":["agreement.updated"],"description":"Nombre del evento"},"payload":{"allOf":[{"x-tags":["Agreements"],"type":"object","title":"Agreement","description":"Representa el estado actual de los permisos de un usuario para utilizar datos de acuerdo a la taxonomía de datos y usos de datos.\nPuede ser actualizado a través de distintas acciones del usuario y empresa en el tiempo.\n\n:::info[Más información]\nPara más detalles, revisa nuestra sección de [Conceptos generales](/docs/integration-guide/general-concepts).\n:::\n","properties":{"id":{"type":"string","description":"Identificador único del acuerdo.","example":"agr_IdBeyWCa1ENLUYnPRLpCUg"},"version":{"type":"integer","description":"Versión del acuerdo","example":1},"subject_id":{"type":"string","description":"Identificador único del usuario del acuerdo. Puede corresponder al identificador de un `Identity` o `Entity`. El `subject_type` indica el tipo del usuario en cuestión.","example":"ent_ma21KLsmaslopask912Aa2"},"subject_type":{"type":"string","description":"Tipo de sujeto del acuerdo. Puede ser `Identity` o `Entity`.","example":"Entity"},"version_source_type":{"type":"string","description":"Tipo de fuente de la versión del acuerdo. Puede ser `DisclosureRequest`, `ConsentAction` o `ConsentCommit`.","example":"ConsentCommit"},"version_source_id":{"type":"string","description":"Identificador único de la fuente de la versión del acuerdo. Puede ser el identificador de un `DisclosureRequest`, `ConsentAction` o `ConsentCommit`.","example":"consact_1B2M2Y8AsgTpgAmY7PhCfg"},"data_permissions":{"type":"array","description":"Datos procesados del agreement de acuerdo a la taxonomía de datos","items":{"type":"object","description":"Representa un dato procesado de acuerdo a la taxonomía de datos.","properties":{"data_category":{"type":"string","description":"Categoría del dato personal. Sigue la taxonomía de datos. Revisa [taxonomía](/docs/integration-guide/taxonomy) para más información.","example":"user.name.first"},"data_label":{"type":"string","description":"Identificador del dato","example":"name"},"data_use":{"type":"string","description":"Propósito específico del uso del dato. Sigue la taxonomía de usos de datos. Revisa [taxonomía](/docs/integration-guide/taxonomy) para más información.","example":"essential.service.authentication"},"scope_type":{"type":"string","enum":["product","branch"],"description":"Tipo de alcance del uso del dato. Un dato puede estar dentro del contexto de un [producto](/docs/api/resources/schemas/product) o de una [branch](/docs/api/resources/schemas/branch)","nullable":true},"scope_id":{"type":"string","description":"Identificador del producto o filial para la cual está vigente el uso del dato.","nullable":true},"scope_version":{"type":"string","description":"Versión del producto o filial para la cual está vigente el uso del dato.","nullable":true},"expires_at":{"type":"string","format":"date","description":"Fecha de expiración del permiso de uso"}},"title":"DataPermission"}},"user_reference":{"type":"string","description":"Referencia de usuario proporcionada por el cliente.","example":"user_123"},"previous_evidence_ids":{"type":"array","description":"IDs de evidencias anteriores relacionadas con este acuerdo","items":{"type":"string"},"example":["evd_pNMroI2OEfrDNdi8xT6kOQ"]},"created_at":{"type":"string","format":"date-time","description":"Fecha y hora de creación del acuerdo.","example":"2024-11-21T14:54:57.167Z"}}},{"type":"object","description":"Datos del acuerdo actualizado","properties":{"evidence":{"x-tags":["Agreements"],"type":"object","description":"Representa una evidencia que respalda un consentimiento o acuerdo.","properties":{"id":{"type":"string","description":"Identificador único de la evidencia.","example":"evd_wCntp5aXB5q7fKSthevwrw"},"integrity_hash":{"type":"string","description":"Hash criptográfico que garantiza la integridad de la evidencia.","example":"28b0f934..."},"legal_basis":{"type":"enum","description":"Base legal del acuerdo.","enum":["consent"],"example":"consent"},"consent_method":{"type":"object","description":"Información sobre el método de consentimiento utilizado.","properties":{"channel":{"type":"string","description":"Canal a través del cual se obtuvo el consentimiento.","example":"website"},"details":{"type":"string","description":"Detalles específicos sobre cómo se obtuvo el consentimiento.","example":"cliked in selector tab to opt-in consent"},"capture_facilitator":{"type":"string","description":"Entidad que facilitó el proceso de consentimiento.","example":"Soyio"},"capture_source":{"type":"string","description":"Entidad que fue responsable de capturar el consentimiento","example":"Salesforce"},"metadata":{"type":"object","description":"Metadatos adicionales de la forma de captura del consentimiento. Pueden ser referencias a flujos completos (identificadores de chats, urls de tickets, etc.) o descripciones de la forma de captura.","nullable":true,"example":{"details":"se le mostró al usuario el texto de consentimiento en un chatbot de whatsapp","chat_id":13928}},"actions":{"type":"array","description":"Lista de acciones realizadas por el usuario para consentimiento.","items":{"type":"object","properties":{"kind":{"type":"enum","description":"Tipo de acción (\"grant\" o \"revoke\")","enum":["grant","revoke"],"example":"grant"},"action_type":{"type":"enum","description":"Tipo específico de acción (solo \"opt_in_click\" por ahora)","enum":["opt_in_click"],"example":"opt_in_click"},"action_data":{"type":"object","description":"Datos adicionales de la acción (máximo 4KB de tamaño serializado en JSON)","example":{"checkbox_id":"cb_123"},"nullable":true},"action_id":{"type":"string","description":"Identificador único de la acción de consentimiento","example":"consact_1B2M2Y8AsgTpgAmY7PhCfg"},"template_id":{"type":"string","description":"Identificador del template de consentimiento asociado.","example":"ctmpl_1B2M2Y8AsgTpgAmY7PhCfg"},"template_version":{"type":"integer","description":"Versión del template de consentimiento asociado.","example":1},"timestamp":{"type":"string","format":"date-time","description":"Fecha y hora de la acción","example":"2024-03-20T15:30:00Z"},"contextual_data":{"type":"object","description":"Datos contextuales como IP, user agent, etc.","properties":{"ip":{"type":"string","example":"192.168.1.1"},"user_agent":{"type":"string","example":"Mozilla/5.0"},"url":{"type":"string","example":"https://example.com"},"phone_number":{"type":"string","example":"+56912345678"}}}}}}}},"identification_method":{"type":"object","description":"Información sobre el método de identificación utilizado.","properties":{"data_subject_id":{"type":"string","description":"ID del sujeto de datos identificado.","example":"id_ftKAfJCmbmGe1t2X1Kt3gw"},"type":{"type":"string","description":"Tipo de método de identificación utilizado.","example":"soyio.validation"},"type_reference":{"type":"string","description":"Referencia al proceso de identificación específico.","example":"va_Pwj5xTQYQ4vciUZPqnVTdg"}}},"event_logs":{"type":"array","description":"Registro cronológico de eventos relacionados con la evidencia.","items":{"type":"object","properties":{"description":{"type":"string","description":"Descripción del evento.","example":"Disclosure request was created"},"timestamp":{"type":"string","format":"date-time","description":"Fecha y hora del evento.","example":"2024-11-21T14:54:29.802Z"},"type":{"type":"string","description":"Tipo de evento.","example":"disclosure_created"}}}},"created_at":{"type":"string","format":"date-time","description":"Fecha y hora de creación de la evidencia.","example":"2024-11-21T14:54:57.202Z"}},"title":"Evidence"},"changes":{"type":"object","description":"Detalle de cambios en los permisos específicos de esta nueva versión del acuerdo","properties":{"created":{"type":"array","description":"Permisos que se han agregado en esta nueva versión del acuerdo","items":{"type":"object","description":"Representa un dato procesado de acuerdo a la taxonomía de datos.","properties":{"data_category":{"type":"string","description":"Categoría del dato personal. Sigue la taxonomía de datos. Revisa [taxonomía](/docs/integration-guide/taxonomy) para más información.","example":"user.name.first"},"data_label":{"type":"string","description":"Identificador del dato","example":"name"},"data_use":{"type":"string","description":"Propósito específico del uso del dato. Sigue la taxonomía de usos de datos. Revisa [taxonomía](/docs/integration-guide/taxonomy) para más información.","example":"essential.service.authentication"},"scope_type":{"type":"string","enum":["product","branch"],"description":"Tipo de alcance del uso del dato. Un dato puede estar dentro del contexto de un [producto](/docs/api/resources/schemas/product) o de una [branch](/docs/api/resources/schemas/branch)","nullable":true},"scope_id":{"type":"string","description":"Identificador del producto o filial para la cual está vigente el uso del dato.","nullable":true},"scope_version":{"type":"string","description":"Versión del producto o filial para la cual está vigente el uso del dato.","nullable":true},"expires_at":{"type":"string","format":"date","description":"Fecha de expiración del permiso de uso"}},"title":"DataPermission"}},"removed":{"type":"array","description":"Permisos que se han eliminado en esta nueva versión del acuerdo","items":{"type":"object","description":"Representa un dato procesado de acuerdo a la taxonomía de datos.","properties":{"data_category":{"type":"string","description":"Categoría del dato personal. Sigue la taxonomía de datos. Revisa [taxonomía](/docs/integration-guide/taxonomy) para más información.","example":"user.name.first"},"data_label":{"type":"string","description":"Identificador del dato","example":"name"},"data_use":{"type":"string","description":"Propósito específico del uso del dato. Sigue la taxonomía de usos de datos. Revisa [taxonomía](/docs/integration-guide/taxonomy) para más información.","example":"essential.service.authentication"},"scope_type":{"type":"string","enum":["product","branch"],"description":"Tipo de alcance del uso del dato. Un dato puede estar dentro del contexto de un [producto](/docs/api/resources/schemas/product) o de una [branch](/docs/api/resources/schemas/branch)","nullable":true},"scope_id":{"type":"string","description":"Identificador del producto o filial para la cual está vigente el uso del dato.","nullable":true},"scope_version":{"type":"string","description":"Versión del producto o filial para la cual está vigente el uso del dato.","nullable":true},"expires_at":{"type":"string","format":"date","description":"Fecha de expiración del permiso de uso"}},"title":"DataPermission"}},"extended":{"type":"array","description":"Permisos que se han extendido en esta nueva versión del acuerdo","items":{"type":"object","description":"Representa un dato procesado de acuerdo a la taxonomía de datos.","properties":{"data_category":{"type":"string","description":"Categoría del dato personal. Sigue la taxonomía de datos. Revisa [taxonomía](/docs/integration-guide/taxonomy) para más información.","example":"user.name.first"},"data_label":{"type":"string","description":"Identificador del dato","example":"name"},"data_use":{"type":"string","description":"Propósito específico del uso del dato. Sigue la taxonomía de usos de datos. Revisa [taxonomía](/docs/integration-guide/taxonomy) para más información.","example":"essential.service.authentication"},"scope_type":{"type":"string","enum":["product","branch"],"description":"Tipo de alcance del uso del dato. Un dato puede estar dentro del contexto de un [producto](/docs/api/resources/schemas/product) o de una [branch](/docs/api/resources/schemas/branch)","nullable":true},"scope_id":{"type":"string","description":"Identificador del producto o filial para la cual está vigente el uso del dato.","nullable":true},"scope_version":{"type":"string","description":"Versión del producto o filial para la cual está vigente el uso del dato.","nullable":true},"expires_at":{"type":"string","format":"date","description":"Fecha de expiración del permiso de uso"}},"title":"DataPermission"}}}}}}]},"created_at":{"type":"string","format":"date-time","description":"Fecha y hora de creación del evento"}}}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Webhook recibido correctamente"},"4XX":{"description":"Error en el procesamiento del webhook"}}}
>
  
</StatusCodes>


      