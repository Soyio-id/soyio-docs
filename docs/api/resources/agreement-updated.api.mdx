---
id: agreement-updated
title: "Updated"
description: "#### Nombre del evento: `agreement.updated`."
sidebar_label: "Updated"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "event api-method"
info_path: docs/api/resources/soyio-api
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Updated"}
>
</Heading>

<MethodEndpoint
  method={"event"}
  path={"webhook"}
  context={"endpoint"}
>
  
</MethodEndpoint>



#### Nombre del evento: `agreement.updated`.
Se envía cuando un acuerdo (agreement) existente ha sido actualizado.


<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"description":"Contiene el recurso Agreement actualizado. El payload corresponde al esquema completo del recurso.","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string","description":"ID único del evento","example":"evt_1B2M2Y8AsgTpgAmY7PhCfg"},"name":{"type":"string","enum":["agreement.updated"],"description":"Nombre del evento"},"payload":{"allOf":[{"x-tags":["Agreements"],"type":"object","title":"Agreement","description":"Representa el estado actual de los permisos de un usuario para utilizar datos de acuerdo a la taxonomía de datos y usos de datos.\nPuede ser actualizado a través de distintas acciones del usuario y empresa en el tiempo.\n\n:::info\nPara más detalles, revisa nuestra sección de [Agreements y evidencia](/docs/integration-guide/concepts/agreement.mdx).\n:::\n","properties":{"id":{"type":"string","description":"Identificador único del acuerdo.","example":"agr_IdBeyWCa1ENLUYnPRLpCUg"},"version":{"type":"integer","description":"Versión del acuerdo","example":1},"subject_id":{"type":"string","description":"Identificador único del usuario del acuerdo. Puede corresponder al identificador de un `Identity` o `Entity`. El `subject_type` indica el tipo del usuario en cuestión.","example":"ent_ma21KLsmaslopask912Aa2"},"subject_type":{"type":"string","description":"Tipo de sujeto del acuerdo. Puede ser `Identity` o `Entity`.","example":"Entity"},"version_source_type":{"type":"string","description":"Tipo de fuente de la versión del acuerdo. Puede ser `DisclosureRequest`, `ConsentAction` o `ConsentCommit`.","example":"ConsentCommit"},"version_source_id":{"type":"string","description":"Identificador único de la fuente de la versión del acuerdo. Puede ser el identificador de un `DisclosureRequest`, `ConsentAction` o `ConsentCommit`.","example":"consact_1B2M2Y8AsgTpgAmY7PhCfg"},"data_permissions":{"type":"array","description":"Datos procesados del agreement de acuerdo a la taxonomía de datos","items":{"type":"object","description":"Representa un dato procesado de acuerdo a la taxonomía de datos.","properties":{"data_category":{"type":"string","description":"Categoría del dato personal. Sigue la taxonomía de datos. Para más información, consulta [el detalle de la taxonomía](/docs/integration-guide/concepts/taxonomy-and-data-management)","example":"user.name.first"},"data_label":{"type":"string","description":"Identificador del dato","example":"name"},"data_use":{"type":"string","description":"Propósito específico del uso del dato. Sigue la taxonomía de usos de datos. Para más información, consulta [el detalle de la taxonomía](/docs/integration-guide/concepts/agreement#taxonomía)","example":"essential.service.authentication"},"scope_type":{"type":"string","enum":["product","branch"],"description":"Tipo de alcance del uso del dato. Un dato puede estar dentro del contexto de un [producto](/docs/api/resources/schemas/product) o de una [branch](/docs/api/resources/schemas/branch)","nullable":true},"scope_id":{"type":"string","description":"Identificador del producto o filial para la cual está vigente el uso del dato.","nullable":true},"scope_version":{"type":"string","description":"Versión del producto o filial para la cual está vigente el uso del dato.","nullable":true},"expires_at":{"type":"string","format":"date","description":"Fecha de expiración del permiso de uso"}},"title":"DataPermission"}},"user_reference":{"type":"string","description":"Referencia de usuario proporcionada por el cliente.","example":"user_123"},"previous_evidence_ids":{"type":"array","description":"IDs de evidencias anteriores relacionadas con este acuerdo","items":{"type":"string"},"example":["evd_pNMroI2OEfrDNdi8xT6kOQ"]},"created_at":{"type":"string","format":"date-time","description":"Fecha y hora de creación del acuerdo.","example":"2024-11-21T14:54:57.167Z"}}},{"type":"object","description":"Datos del acuerdo actualizado","properties":{"evidence":{"x-tags":["Agreements"],"type":"object","description":"Representa una evidencia que respalda un consentimiento o acuerdo.","properties":{"id":{"type":"string","description":"Identificador único de la evidencia.","example":"evd_wCntp5aXB5q7fKSthevwrw"},"integrity_hash":{"type":"string","description":"Hash criptográfico que garantiza la integridad de la evidencia.","example":"28b0f934..."},"legal_basis":{"type":"enum","description":"Base legal del acuerdo.","enum":["consent"],"example":"consent"},"consent_method":{"type":"object","description":"Información sobre el método de consentimiento utilizado.","properties":{"channel":{"type":"string","description":"Canal a través del cual se obtuvo el consentimiento.","example":"website"},"details":{"type":"string","description":"Detalles específicos sobre cómo se obtuvo el consentimiento.","example":"cliked in selector tab to opt-in consent"},"capture_facilitator":{"type":"string","description":"Entidad que facilitó el proceso de consentimiento.","example":"Soyio"},"capture_source":{"type":"string","description":"Entidad que fue responsable de capturar el consentimiento","example":"Salesforce"},"metadata":{"type":"object","description":"Metadatos adicionales de la forma de captura del consentimiento. Pueden ser referencias a flujos completos (identificadores de chats, urls de tickets, etc.) o descripciones de la forma de captura.","nullable":true,"example":{"details":"se le mostró al usuario el texto de consentimiento en un chatbot de whatsapp","chat_id":13928}},"actions":{"type":"array","description":"Lista de acciones realizadas por el usuario para consentimiento.","items":{"type":"object","properties":{"kind":{"type":"enum","description":"Tipo de acción (\"grant\" o \"revoke\")","enum":["grant","revoke"],"example":"grant"},"action_type":{"type":"enum","description":"Tipo específico de acción (solo \"opt_in_click\" por ahora)","enum":["opt_in_click"],"example":"opt_in_click"},"action_data":{"type":"object","description":"Datos adicionales de la acción (máximo 4KB de tamaño serializado en JSON)","example":{"checkbox_id":"cb_123"},"nullable":true},"action_id":{"type":"string","description":"Identificador único de la acción de consentimiento","example":"consact_1B2M2Y8AsgTpgAmY7PhCfg"},"template_id":{"type":"string","description":"Identificador del template de consentimiento asociado.","example":"ctmpl_1B2M2Y8AsgTpgAmY7PhCfg"},"template_version":{"type":"integer","description":"Versión del template de consentimiento asociado.","example":1},"timestamp":{"type":"string","format":"date-time","description":"Fecha y hora de la acción","example":"2024-03-20T15:30:00Z"},"contextual_data":{"type":"object","description":"Datos contextuales como IP, user agent, etc.","properties":{"ip":{"type":"string","example":"192.168.1.1"},"user_agent":{"type":"string","example":"Mozilla/5.0"},"url":{"type":"string","example":"https://example.com"},"phone_number":{"type":"string","example":"+56912345678"}}}}}}}},"identification_method":{"type":"object","description":"Información sobre el método de identificación utilizado.","properties":{"data_subject_id":{"type":"string","description":"ID del sujeto de datos identificado.","example":"id_ftKAfJCmbmGe1t2X1Kt3gw"},"type":{"type":"string","description":"Tipo de método de identificación utilizado.","example":"soyio.validation"},"type_reference":{"type":"string","description":"Referencia al proceso de identificación específico.","example":"va_Pwj5xTQYQ4vciUZPqnVTdg"}}},"event_logs":{"type":"array","description":"Registro cronológico de eventos relacionados con la evidencia.","items":{"type":"object","properties":{"description":{"type":"string","description":"Descripción del evento.","example":"Disclosure request was created"},"timestamp":{"type":"string","format":"date-time","description":"Fecha y hora del evento.","example":"2024-11-21T14:54:29.802Z"},"type":{"type":"string","description":"Tipo de evento.","example":"disclosure_created"}}}},"created_at":{"type":"string","format":"date-time","description":"Fecha y hora de creación de la evidencia.","example":"2024-11-21T14:54:57.202Z"}},"title":"Evidence"},"changes":{"type":"object","description":"Detalle de cambios en los permisos específicos de esta nueva versión del acuerdo","properties":{"created":{"type":"array","description":"Permisos que se han agregado en esta nueva versión del acuerdo","items":{"type":"object","description":"Representa un dato procesado de acuerdo a la taxonomía de datos.","properties":{"data_category":{"type":"string","description":"Categoría del dato personal. Sigue la taxonomía de datos. Para más información, consulta [el detalle de la taxonomía](/docs/integration-guide/concepts/taxonomy-and-data-management)","example":"user.name.first"},"data_label":{"type":"string","description":"Identificador del dato","example":"name"},"data_use":{"type":"string","description":"Propósito específico del uso del dato. Sigue la taxonomía de usos de datos. Para más información, consulta [el detalle de la taxonomía](/docs/integration-guide/concepts/agreement#taxonomía)","example":"essential.service.authentication"},"scope_type":{"type":"string","enum":["product","branch"],"description":"Tipo de alcance del uso del dato. Un dato puede estar dentro del contexto de un [producto](/docs/api/resources/schemas/product) o de una [branch](/docs/api/resources/schemas/branch)","nullable":true},"scope_id":{"type":"string","description":"Identificador del producto o filial para la cual está vigente el uso del dato.","nullable":true},"scope_version":{"type":"string","description":"Versión del producto o filial para la cual está vigente el uso del dato.","nullable":true},"expires_at":{"type":"string","format":"date","description":"Fecha de expiración del permiso de uso"}},"title":"DataPermission"}},"removed":{"type":"array","description":"Permisos que se han eliminado en esta nueva versión del acuerdo","items":{"type":"object","description":"Representa un dato procesado de acuerdo a la taxonomía de datos.","properties":{"data_category":{"type":"string","description":"Categoría del dato personal. Sigue la taxonomía de datos. Para más información, consulta [el detalle de la taxonomía](/docs/integration-guide/concepts/taxonomy-and-data-management)","example":"user.name.first"},"data_label":{"type":"string","description":"Identificador del dato","example":"name"},"data_use":{"type":"string","description":"Propósito específico del uso del dato. Sigue la taxonomía de usos de datos. Para más información, consulta [el detalle de la taxonomía](/docs/integration-guide/concepts/agreement#taxonomía)","example":"essential.service.authentication"},"scope_type":{"type":"string","enum":["product","branch"],"description":"Tipo de alcance del uso del dato. Un dato puede estar dentro del contexto de un [producto](/docs/api/resources/schemas/product) o de una [branch](/docs/api/resources/schemas/branch)","nullable":true},"scope_id":{"type":"string","description":"Identificador del producto o filial para la cual está vigente el uso del dato.","nullable":true},"scope_version":{"type":"string","description":"Versión del producto o filial para la cual está vigente el uso del dato.","nullable":true},"expires_at":{"type":"string","format":"date","description":"Fecha de expiración del permiso de uso"}},"title":"DataPermission"}},"extended":{"type":"array","description":"Permisos que se han extendido en esta nueva versión del acuerdo","items":{"type":"object","description":"Representa un dato procesado de acuerdo a la taxonomía de datos.","properties":{"data_category":{"type":"string","description":"Categoría del dato personal. Sigue la taxonomía de datos. Para más información, consulta [el detalle de la taxonomía](/docs/integration-guide/concepts/taxonomy-and-data-management)","example":"user.name.first"},"data_label":{"type":"string","description":"Identificador del dato","example":"name"},"data_use":{"type":"string","description":"Propósito específico del uso del dato. Sigue la taxonomía de usos de datos. Para más información, consulta [el detalle de la taxonomía](/docs/integration-guide/concepts/agreement#taxonomía)","example":"essential.service.authentication"},"scope_type":{"type":"string","enum":["product","branch"],"description":"Tipo de alcance del uso del dato. Un dato puede estar dentro del contexto de un [producto](/docs/api/resources/schemas/product) o de una [branch](/docs/api/resources/schemas/branch)","nullable":true},"scope_id":{"type":"string","description":"Identificador del producto o filial para la cual está vigente el uso del dato.","nullable":true},"scope_version":{"type":"string","description":"Versión del producto o filial para la cual está vigente el uso del dato.","nullable":true},"expires_at":{"type":"string","format":"date","description":"Fecha de expiración del permiso de uso"}},"title":"DataPermission"}}}}}}]},"created_at":{"type":"string","format":"date-time","description":"Fecha y hora de creación del evento"}}}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Webhook recibido correctamente"},"4XX":{"description":"Error en el procesamiento del webhook"}}}
>
  
</StatusCodes>


      