---
id: agreement-updated
title: "Updated"
description: "#### Nombre del evento: `agreement.updated`."
sidebar_label: "Updated"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "event api-method"
info_path: docs/api/resources/soyio-api
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Updated"}
>
</Heading>

<MethodEndpoint
  method={"event"}
  path={"webhook"}
  context={"endpoint"}
>
  
</MethodEndpoint>



#### Nombre del evento: `agreement.updated`.
Se envía cuando un acuerdo (agreement) existente ha sido actualizado.


<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"description":"Contiene el recurso Agreement actualizado. El payload corresponde al esquema completo del recurso.","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string","description":"ID único del evento","example":"evt_1B2M2Y8AsgTpgAmY7PhCfg"},"name":{"type":"string","enum":["agreement.updated"],"description":"Nombre del evento"},"payload":{"allOf":[{"x-tags":["Agreements"],"type":"object","title":"Agreement","description":"Representa el estado actual de los permisos de un usuario para utilizar datos de acuerdo a la taxonomía de datos y usos de datos.\nPuede ser actualizado a través de distintas acciones del usuario y empresa en el tiempo.\n\n:::info\nPara más detalles, revisa nuestra sección de [conceptos generales](/docs/integration-guide/general-concepts#agreement).\n:::\n","properties":{"id":{"type":"string","description":"Identificador único del acuerdo.","example":"agr_IdBeyWCa1ENLUYnPRLpCUg"},"version":{"type":"integer","description":"Versión del acuerdo","example":1},"subject_id":{"type":"string","description":"Identificador único del usuario del acuerdo. Puede corresponder al identificador de un `Identity` o `Entity`. El `subject_type` indica el tipo del usuario en cuestión.","example":"ent_ma21KLsmaslopask912Aa2"},"subject_type":{"type":"string","description":"Tipo de sujeto del acuerdo. Puede ser `Identity` o `Entity`.","example":"Entity"},"version_source_type":{"type":"string","description":"Tipo de fuente de la versión del acuerdo. Puede ser `DisclosureRequest`, `ConsentAction` o `ConsentCommit`.","example":"ConsentCommit"},"version_source_id":{"type":"string","description":"Identificador único de la fuente de la versión del acuerdo. Puede ser el identificador de un `DisclosureRequest`, `ConsentAction` o `ConsentCommit`.","example":"consact_1B2M2Y8AsgTpgAmY7PhCfg"},"data_permissions":{"type":"array","description":"Datos procesados del agreement de acuerdo a la taxonomía de datos","items":{"type":"object","description":"Representa un dato procesado de acuerdo a la taxonomía de datos.","properties":{"data_category":{"type":"string","description":"Categoría del dato personal. Sigue la taxonomía de datos. Para más información, consulta [el detalle de la taxonomía](/docs/integration-guide/taxonomy)","example":"user.name.first"},"data_label":{"type":"string","description":"Identificador del dato","example":"name"},"data_use":{"type":"string","description":"Propósito específico del uso del dato. Sigue la taxonomía de usos de datos. Para más información, consulta [el detalle de la taxonomía](/docs/integration-guide/taxonomy)","example":"essential.service.authentication"},"scope_type":{"type":"string","enum":["product","branch"],"description":"Tipo de alcance del uso del dato. Un dato puede estar dentro del contexto de un [producto](/docs/api/resources/schemas/product) o de una [branch](/docs/api/resources/schemas/branch)","nullable":true},"scope_id":{"type":"string","description":"Identificador del producto o filial para la cual está vigente el uso del dato.","nullable":true},"scope_version":{"type":"string","description":"Versión del producto o filial para la cual está vigente el uso del dato.","nullable":true},"expires_at":{"type":"string","format":"date","description":"Fecha de expiración del permiso de uso"}},"title":"DataPermission"}},"user_reference":{"type":"string","description":"Referencia de usuario proporcionada por el cliente.","example":"user_123"},"previous_evidence_ids":{"type":"array","description":"IDs de evidencias anteriores relacionadas con este acuerdo","items":{"type":"string"},"example":["evd_pNMroI2OEfrDNdi8xT6kOQ"]},"created_at":{"type":"string","format":"date-time","description":"Fecha y hora de creación del acuerdo.","example":"2024-11-21T14:54:57.167Z"}}},{"type":"object","description":"Datos del acuerdo actualizado","properties":{"evidence":{"x-tags":["Agreements"],"type":"object","description":"Representa una evidencia que respalda un consentimiento o acuerdo.","properties":{"id":{"type":"string","description":"Identificador único de la evidencia.","example":"evd_wCntp5aXB5q7fKSthevwrw"},"integrity_hash":{"type":"string","description":"Hash criptográfico que garantiza la integridad de la evidencia.","example":"28b0f934..."},"legal_basis":{"type":"enum","description":"Base legal del acuerdo.","enum":["consent"],"example":"consent"},"consent_method":{"type":"object","description":"Información sobre el método de consentimiento utilizado.","properties":{"channel":{"type":"string","description":"Canal a través del cual se obtuvo el consentimiento.","example":"website"},"details":{"type":"string","description":"Detalles específicos sobre cómo se obtuvo el consentimiento.","example":"cliked in selector tab to opt-in consent"},"capture_facilitator":{"type":"string","description":"Entidad que facilitó el proceso de consentimiento.","example":"Soyio"},"capture_source":{"type":"string","description":"Entidad que fue responsable de capturar el consentimiento","example":"Salesforce"},"metadata":{"type":"object","description":"Metadatos adicionales de la forma de captura del consentimiento. Pueden ser referencias a flujos completos (identificadores de chats, urls de tickets, etc.) o descripciones de la forma de captura.","nullable":true,"example":{"details":"se le mostró al usuario el texto de consentimiento en un chatbot de whatsapp","chat_id":13928}},"actions":{"type":"array","description":"Lista de acciones realizadas por el usuario para consentimiento.","items":{"type":"object","properties":{"kind":{"type":"enum","description":"Tipo de acción (\"grant\" o \"revoke\")","enum":["grant","revoke"],"example":"grant"},"action_type":{"type":"enum","description":"Tipo específico de acción (solo \"opt_in_click\" por ahora)","enum":["opt_in_click"],"example":"opt_in_click"},"action_data":{"type":"object","description":"Datos adicionales de la acción (máximo 4KB de tamaño serializado en JSON)","example":{"checkbox_id":"cb_123"},"nullable":true},"action_id":{"type":"string","description":"Identificador único de la acción de consentimiento","example":"consact_1B2M2Y8AsgTpgAmY7PhCfg"},"template_id":{"type":"string","description":"Identificador del template de consentimiento asociado.","example":"ctmpl_1B2M2Y8AsgTpgAmY7PhCfg"},"template_version":{"type":"integer","description":"Versión del template de consentimiento asociado.","example":1},"timestamp":{"type":"string","format":"date-time","description":"Fecha y hora de la acción","example":"2024-03-20T15:30:00Z"},"contextual_data":{"type":"object","description":"Datos contextuales como IP, user agent, etc.","properties":{"ip":{"type":"string","example":"192.168.1.1"},"user_agent":{"type":"string","example":"Mozilla/5.0"},"url":{"type":"string","example":"https://example.com"},"phone_number":{"type":"string","example":"+56912345678"}}}}}}}},"identification_method":{"type":"object","description":"Información sobre el método de identificación utilizado.","properties":{"data_subject_id":{"type":"string","description":"ID del sujeto de datos identificado.","example":"id_ftKAfJCmbmGe1t2X1Kt3gw"},"type":{"type":"string","description":"Tipo de método de identificación utilizado.","example":"soyio.validation"},"type_reference":{"type":"string","description":"Referencia al proceso de identificación específico.","example":"va_Pwj5xTQYQ4vciUZPqnVTdg"}}},"event_logs":{"type":"array","description":"Registro cronológico de eventos relacionados con la evidencia.","items":{"type":"object","properties":{"description":{"type":"string","description":"Descripción del evento.","example":"Disclosure request was created"},"timestamp":{"type":"string","format":"date-time","description":"Fecha y hora del evento.","example":"2024-11-21T14:54:29.802Z"},"type":{"type":"string","description":"Tipo de evento.","example":"disclosure_created"}}}},"created_at":{"type":"string","format":"date-time","description":"Fecha y hora de creación de la evidencia.","example":"2024-11-21T14:54:57.202Z"}},"title":"Evidence"},"changes":{"type":"object","description":"Detalle de cambios en los permisos específicos de esta nueva versión del acuerdo","properties":{"created":{"type":"array","description":"Permisos que se han agregado en esta nueva versión del acuerdo","items":{"type":"object","description":"Representa un dato procesado de acuerdo a la taxonomía de datos.","properties":{"data_category":{"type":"string","description":"Categoría del dato personal. Sigue la taxonomía de datos. Para más información, consulta [el detalle de la taxonomía](/docs/integration-guide/taxonomy)","example":"user.name.first"},"data_label":{"type":"string","description":"Identificador del dato","example":"name"},"data_use":{"type":"string","description":"Propósito específico del uso del dato. Sigue la taxonomía de usos de datos. Para más información, consulta [el detalle de la taxonomía](/docs/integration-guide/taxonomy)","example":"essential.service.authentication"},"scope_type":{"type":"string","enum":["product","branch"],"description":"Tipo de alcance del uso del dato. Un dato puede estar dentro del contexto de un [producto](/docs/api/resources/schemas/product) o de una [branch](/docs/api/resources/schemas/branch)","nullable":true},"scope_id":{"type":"string","description":"Identificador del producto o filial para la cual está vigente el uso del dato.","nullable":true},"scope_version":{"type":"string","description":"Versión del producto o filial para la cual está vigente el uso del dato.","nullable":true},"expires_at":{"type":"string","format":"date","description":"Fecha de expiración del permiso de uso"}},"title":"DataPermission"}},"removed":{"type":"array","description":"Permisos que se han eliminado en esta nueva versión del acuerdo","items":{"type":"object","description":"Representa un dato procesado de acuerdo a la taxonomía de datos.","properties":{"data_category":{"type":"string","description":"Categoría del dato personal. Sigue la taxonomía de datos. Para más información, consulta [el detalle de la taxonomía](/docs/integration-guide/taxonomy)","example":"user.name.first"},"data_label":{"type":"string","description":"Identificador del dato","example":"name"},"data_use":{"type":"string","description":"Propósito específico del uso del dato. Sigue la taxonomía de usos de datos. Para más información, consulta [el detalle de la taxonomía](/docs/integration-guide/taxonomy)","example":"essential.service.authentication"},"scope_type":{"type":"string","enum":["product","branch"],"description":"Tipo de alcance del uso del dato. Un dato puede estar dentro del contexto de un [producto](/docs/api/resources/schemas/product) o de una [branch](/docs/api/resources/schemas/branch)","nullable":true},"scope_id":{"type":"string","description":"Identificador del producto o filial para la cual está vigente el uso del dato.","nullable":true},"scope_version":{"type":"string","description":"Versión del producto o filial para la cual está vigente el uso del dato.","nullable":true},"expires_at":{"type":"string","format":"date","description":"Fecha de expiración del permiso de uso"}},"title":"DataPermission"}},"extended":{"type":"array","description":"Permisos que se han extendido en esta nueva versión del acuerdo","items":{"type":"object","description":"Representa un dato procesado de acuerdo a la taxonomía de datos.","properties":{"data_category":{"type":"string","description":"Categoría del dato personal. Sigue la taxonomía de datos. Para más información, consulta [el detalle de la taxonomía](/docs/integration-guide/taxonomy)","example":"user.name.first"},"data_label":{"type":"string","description":"Identificador del dato","example":"name"},"data_use":{"type":"string","description":"Propósito específico del uso del dato. Sigue la taxonomía de usos de datos. Para más información, consulta [el detalle de la taxonomía](/docs/integration-guide/taxonomy)","example":"essential.service.authentication"},"scope_type":{"type":"string","enum":["product","branch"],"description":"Tipo de alcance del uso del dato. Un dato puede estar dentro del contexto de un [producto](/docs/api/resources/schemas/product) o de una [branch](/docs/api/resources/schemas/branch)","nullable":true},"scope_id":{"type":"string","description":"Identificador del producto o filial para la cual está vigente el uso del dato.","nullable":true},"scope_version":{"type":"string","description":"Versión del producto o filial para la cual está vigente el uso del dato.","nullable":true},"expires_at":{"type":"string","format":"date","description":"Fecha de expiración del permiso de uso"}},"title":"DataPermission"}}}}}}]},"created_at":{"type":"string","format":"date-time","description":"Fecha y hora de creación del evento"}}}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Webhook recibido correctamente"},"4XX":{"description":"Error en el procesamiento del webhook"}}}
>
  
</StatusCodes>


      