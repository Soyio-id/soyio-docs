---
id: get-entity-agreement-compliance-statuses-by-reference
title: "Obtener los estados de cumplimiento de una entidad usando user_reference"
description: "Retorna la misma información que el endpoint basado en el `id` de la entidad, pero permite identificar a la entidad"
sidebar_label: "Obtener los estados de cumplimiento de una entidad usando user_reference"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "get api-method"
info_path: docs/api/resources/soyio-api
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Obtener los estados de cumplimiento de una entidad usando user_reference"}
>
</Heading>

<MethodEndpoint
  method={"get"}
  path={"/entities/reference/{user_reference}/agreement/compliance_statuses"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Retorna la misma información que el endpoint basado en el `id` de la entidad, pero permite identificar a la entidad
utilizando el `user_reference` con el que fue registrada para tu empresa.

Este endpoint **no crea** entidades nuevas. Si el `user_reference` no corresponde a una entidad existente en tu empresa,
devolverá un error 404.


<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"name":"user_reference","in":"path","description":"user_reference asociado a la entidad dentro de tu empresa","required":true,"schema":{"type":"string"},"example":"external-user-123"},{"name":"where","in":"query","description":"Filtros en formato JSON. Por ahora, damos soporte para filtros de igualdad con `consent_template_id`, `consent_template_version` y `data_subject`. Cuando envíes `consent_template_version`, también debes enviar `consent_template_id`, y el valor debe ser mayor a 0.","required":false,"schema":{"type":"string"},"examples":{"consent_template_id_filter":{"summary":"Filtrar por `consent_template_id`","value":"{\"consent_template_id\":{\"=\":\"constpl_7vH0nGSOnP9inT-1EsBP0g\"}}"},"consent_template_version_filter":{"summary":"Filtrar por `consent_template_id` y `consent_template_version`","value":"{\"consent_template_id\":{\"=\":\"constpl_7vH0nGSOnP9inT-1EsBP0g\"},\"consent_template_version\":{\"=\":2}}"},"data_subject_filter":{"summary":"Filtrar por `data_subject`","value":"{\"data_subject\":{\"=\":\"prospect\"}}"},"consent_template_id_and_data_subject_filter":{"summary":"Filtrar por `consent_template_id` y `data_subject`","value":"{\"consent_template_id\":{\"=\":\"constpl_7vH0nGSOnP9inT-1EsBP0g\"},\"data_subject\":{\"=\":\"prospect\"}}"}}}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={undefined}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Todos los estados de cumplimiento del sujeto encontrado por user_reference.","content":{"application/json":{"schema":{"type":"object","description":"Respuesta estándar para los endpoints de estados de cumplimiento de entidades.","properties":{"compliance_statuses":{"type":"array","items":{"x-tags":["Entities"],"type":"object","description":"Estado del cumplimiento de una entidad respecto a un template de consentimiento específico. Considera el último estado del agreement para evaluar si es que cumple o no cumple.","properties":{"status":{"type":"string","enum":["compliant","non_compliant","partially_compliant"],"description":"El cumplimiento en sí:\n- `compliant`: La entidad cumple con **todos** los `data_requirements`s del template de consentimiento.\n- `non_compliant`: La entidad no cumple con **ningún** `data_requirement`s del template de consentimiento.\n- `partially_compliant`: La entidad cumple **solo con algunos** de los `data_requirements`s del template de consentimiento.\n","example":"compliant"},"consent_template_id":{"type":"string","description":"ID del template de consentimiento al cuál corresponde el cumplimiento","example":"constpl_1B2M2Y8AsgTpgAmY7PhCfg"},"last_consent_action_id":{"type":"string","description":"ID de la última acción de consentimiento asociada al template y esa entidad.","example":"consact_1B2M2Y8AsgTpgAmY7PhCfg"},"agreement_id":{"type":"string","description":"ID del agreement, para ir a buscar más información sobre el cumplimiento.","example":"agreement_1B2M2Y8AsgTpgAmY7PhCfg"},"is_revokable":{"type":"boolean","description":"Indica si el agreement es revocable o no.","example":true}},"title":"ComplianceStatus"}}},"title":"EntityComplianceStatusesResponse"}}}},"401":{"description":"Error de autenticación","content":{"application/json":{"schema":{"type":"object","required":["type","title","status","detail"],"properties":{"type":{"type":"string","example":"authentication_error"},"title":{"type":"string","example":"Unauthorized"},"status":{"type":"integer","example":401},"detail":{"type":"string","example":"We could not authenticate your credentials. Please check the documentation at https://docs.soyio.id"}}}}}},"404":{"description":"Recurso no encontrado. Se puede dar cuando no existe un agreement entre tu empresa y la entidad encontrada por user_reference, cuando no existe la entidad, o cuando el user_reference no pertenece a tu empresa.","content":{"application/json":{"schema":{"type":"object","required":["type","title","status","detail"],"properties":{"type":{"type":"string","example":"invalid_request_error"},"title":{"type":"string","example":"Resource not found"},"status":{"type":"integer","example":404},"detail":{"type":"string","example":"Couldn't find <resource> with id '<id>'. Please check your request and try again"}},"title":"NotFoundErrorSchema"}}}}}}
>
  
</StatusCodes>


      