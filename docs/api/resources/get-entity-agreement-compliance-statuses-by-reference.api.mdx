---
id: get-entity-agreement-compliance-statuses-by-reference
title: "Obtener los estados de cumplimiento de una entidad usando user_reference"
description: "Retorna la misma información que el endpoint basado en el `id` de la entidad, pero permite identificar a la entidad"
sidebar_label: "Obtener los estados de cumplimiento de una entidad usando user_reference"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "get api-method"
info_path: docs/api/resources/soyio-api
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Obtener los estados de cumplimiento de una entidad usando user_reference"}
>
</Heading>

<MethodEndpoint
  method={"get"}
  path={"/entities/reference/{user_reference}/agreement/compliance_statuses"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Retorna la misma información que el endpoint basado en el `id` de la entidad, pero permite identificar a la entidad
utilizando el `user_reference` con el que fue registrada para tu empresa.

Este endpoint **no crea** entidades nuevas. Si el `user_reference` no corresponde a una entidad existente en tu empresa,
devolverá un error 404.


<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"name":"user_reference","in":"path","description":"user_reference asociado a la entidad dentro de tu empresa","required":true,"schema":{"type":"string"},"example":"external-user-123"},{"name":"where","in":"query","description":"Filtros en formato JSON. Por ahora, damos soporte para filtros de igualdad con `consent_template_id`, `consent_template_version` y `data_subject`. Cuando envíes `consent_template_version`, también debes enviar `consent_template_id`, y el valor debe ser mayor a 0.","required":false,"schema":{"type":"string"},"examples":{"consent_template_id_filter":{"summary":"Filtrar por `consent_template_id`","value":"{\"consent_template_id\":{\"=\":\"constpl_7vH0nGSOnP9inT-1EsBP0g\"}}"},"consent_template_version_filter":{"summary":"Filtrar por `consent_template_id` y `consent_template_version`","value":"{\"consent_template_id\":{\"=\":\"constpl_7vH0nGSOnP9inT-1EsBP0g\"},\"consent_template_version\":{\"=\":2}}"},"data_subject_filter":{"summary":"Filtrar por `data_subject`","value":"{\"data_subject\":{\"=\":\"prospect\"}}"},"consent_template_id_and_data_subject_filter":{"summary":"Filtrar por `consent_template_id` y `data_subject`","value":"{\"consent_template_id\":{\"=\":\"constpl_7vH0nGSOnP9inT-1EsBP0g\"},\"data_subject\":{\"=\":\"prospect\"}}"}}}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={undefined}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Todos los estados de cumplimiento del sujeto encontrado por user_reference.","content":{"application/json":{"schema":{"type":"object","description":"Respuesta estándar para los endpoints de estados de cumplimiento de entidades.","properties":{"compliance_statuses":{"type":"array","items":{"type":"object","description":"Estado del cumplimiento de una entidad respecto a un template de consentimiento específico. Considera el último estado del agreement para evaluar si es que cumple o no cumple.","properties":{"status":{"type":"string","enum":["compliant","non_compliant","partially_compliant"],"description":"El cumplimiento en sí:\n- `compliant`: La entidad cumple con **todos** los `data_requirements`s del template de consentimiento.\n- `non_compliant`: La entidad no cumple con **ningún** `data_requirement`s del template de consentimiento.\n- `partially_compliant`: La entidad cumple **solo con algunos** de los `data_requirements`s del template de consentimiento.\n","example":"compliant"},"consent_template_id":{"type":"string","description":"ID del template de consentimiento al cuál corresponde el cumplimiento","example":"constpl_1B2M2Y8AsgTpgAmY7PhCfg"},"last_consent_action_id":{"type":"string","description":"ID de la última acción de consentimiento asociada al template y esa entidad.","example":"consact_1B2M2Y8AsgTpgAmY7PhCfg"},"agreement_id":{"type":"string","description":"ID del agreement, para ir a buscar más información sobre el cumplimiento.","example":"agreement_1B2M2Y8AsgTpgAmY7PhCfg"},"is_revokable":{"type":"boolean","description":"Indica si el agreement es revocable o no.","example":true}},"title":"ComplianceStatus"}}},"title":"EntityComplianceStatusesResponse"}}}},"401":{"description":"Error de autenticación","content":{"application/json":{"schema":{"type":"object","required":["type","title","status","detail"],"properties":{"type":{"type":"string","example":"authentication_error"},"title":{"type":"string","example":"Unauthorized"},"status":{"type":"integer","example":401},"detail":{"type":"string","example":"We could not authenticate your credentials. Please check the documentation at https://docs.soyio.id"}}}}}},"404":{"description":"Recurso no encontrado. Se puede dar cuando no existe un agreement entre tu empresa y la entidad encontrada por user_reference, cuando no existe la entidad, o cuando el user_reference no pertenece a tu empresa.","content":{"application/json":{"schema":{"type":"object","required":["type","title","status","detail"],"properties":{"type":{"type":"string","example":"invalid_request_error"},"title":{"type":"string","example":"Resource not found"},"status":{"type":"integer","example":404},"detail":{"type":"string","example":"Couldn't find <resource> with id '<id>'. Please check your request and try again"}},"title":"NotFoundErrorSchema"}}}}}}
>
  
</StatusCodes>


      