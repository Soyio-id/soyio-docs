---
id: update-redec-consent-template
title: "Actualizar un template de consentimiento para REDEC"
description: "Actualiza un template de consentimiento existente a través del endpoint REDEC."
sidebar_label: "Actualizar un template de consentimiento para REDEC"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "patch api-method"
info_path: docs/api/resources/soyio-api
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Actualizar un template de consentimiento para REDEC"}
>
</Heading>

<MethodEndpoint
  method={"patch"}
  path={"/redec/consent_templates/{id}"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Actualiza un template de consentimiento existente a través del endpoint REDEC.
El modelo de template de consentimiento es versionado, por lo que cada cambio realizado no modifica la versión actual,
sino que genera una nueva versión, dejando trazable el historial de cambios.

**Validaciones específicas de REDEC:**
- El template debe tener exactamente un data use
- El data use debe ser compatible con REDEC (`finance.commercial_risk_assessment` o `finance.credit_risk_assessment`)
- El template debe tener un producto asociado
- El producto debe tener un `redec_kind` configurado
- La funcionalidad REDEC debe estar habilitada para la compañía


<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"name":"id","in":"path","required":true,"description":"ID del template de consentimiento","schema":{"type":"string"},"example":"constpl_wAspvmEr4ACDZaPUtfwjsA"}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["name","title","text","duration","data_requirements","data_subject"],"properties":{"name":{"type":"string","description":"Nombre del template","example":"Mi template de consentimiento"},"duration":{"type":"string","description":"Período de disponibilidad en [formato ISO](https://docs.digi.com/resources/documentation/digidocs/90001488-13/reference/r_iso_8601_duration_format.htm). Esto determina por cuánto tiempo puedes solicitar los datos del usuario desde que te dio su consentimiento.","example":"P2M"},"title":{"type":"string","description":"Titulo que aparecerá en el checkbox del módulo de consentimiento","example":"Consentimiento general"},"text":{"type":"string","description":"Texto del template de consentimiento. Permite referenciar [documentos de privacidad](/docs/api/resources/schemas/privacydocument).\n","example":"De acuerdo a los {{ terms_and_conditions }} y {{ privacy_policy }} de Soyio."},"data_requirements":{"type":"array","description":"Lista de requerimientos de datos","items":{"type":"object","required":["key","data_uses"],"properties":{"key":{"type":"string","description":"Clave del dato. Es un texto libre que identifica específicamente el dato involucrado en el consentimiento.","example":"first_name"},"data_category":{"type":"string","description":"Categoría del dato personal. Debe seguir la [taxonomía de categorías de datos](/docs/integration-guide/taxonomy).\n\nLas siguientes llaves (`key`) infieren la categoría del dato personal:\n\n--------------------\n\n  - `name`: Primer nombre (**Name > First**)\n  - `last_name`: Apellido (**Name > Last**)\n  - `date_of_birth`: Fecha de nacimiento (**Demographic > Birth date**)\n  - `cl_carnet_rut`: RUT (**Government Id > National Identification Number**)\n  - `cl_carnet_doc_number`: Número de documento (**Government Id**)\n  - `cl_carnet_expiration_date`: Fecha de expiración del documento (**Government Id**)\n  - `cl_carnet_issue_date`: Fecha de emisión del documento (**Government Id**)\n  - `gender`: Género (**Demographic > Gender**)\n  - `nationality`: Nacionalidad (**Demographic**)\n  - `email`: Correo electrónico (**Contact > Email**)\n  - `phone_number`: Teléfono (**Contact > Phone number**)\n  - `national_id_front_photo`: Foto frontal del documento de identidad (**Government Id**)\n  - `national_id_back_photo`: Foto trasera del documento de identidad (**Government Id**)\n\n--------------------\n\nEsto significa que si se utiliza alguna de estas llaves, no es necesario especificar la categoría del dato.\n\nSi se especifica una de estas llaves y además se especifica la categoría del dato, la categoría dada tendrá prioridad sobre la predefinida.\n","example":"user.name.first"},"data_uses":{"type":"array","description":"Lista de usos permitidos para el dato, parte de la taxonomía de usos de datos","items":{"type":"string"}}},"title":"DataRequirementInput"}},"data_subject":{"type":"string","description":"Tipo de sujeto de datos para el cual se aplica este template de consentimiento.\nDefine la categoría de persona o entidad cuyos datos personales serán procesados.\n","enum":["anonymous_user","citizen_voter","commuter","consultant","customer","employee","job_applicant","next_of_kin","passenger","patient","prospect","shareholder","supplier_vendor","trainee","visitor"],"example":"customer"},"product_id":{"type":"string","description":"Identificador único del producto. No puede estar presente si se especifica `branch_id`.","example":"prod_1B2M2Y8AsgTpgAmY7PhCfg"},"branch_id":{"type":"string","description":"Identificador único de la branch. No puede estar presente si se especifica `product_id`.","example":"branch_1B2M2Y8AsgTpgAmY7PhCfg"},"optional":{"type":"boolean","description":"Indica si el template de consentimiento es opcional.","example":false},"enabled":{"type":"boolean","description":"Indica si la plantilla de consentimiento se muestra en el centro de privacidad.","example":true,"default":true}},"title":"ConsentTemplateInput"}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Nueva versión del template de consentimiento REDEC, con los cambios realizados.","content":{"application/json":{"schema":{"description":"Una _consent template_ (template de consentimiento) es una configuración necesaria para el módulo de [_consent_](/docs/integration-guide/consent/introduction).\nEste modelo es versionado, por lo que cada cambio realizado genera una nueva versión, dejando trazable el historial de cambios.\n","x-tags":["Consent templates"],"allOf":[{"description":"Versión simplificada del template de consentimiento para listados.\nNo incluye `event_logs` para optimizar el tamaño de la respuesta.\n","type":"object","required":["id","name","title","text","version","duration","data_requirements","data_subject","created_at","updated_at"],"properties":{"id":{"type":"string","description":"Identificador único. Debe empezar con `constpl_`","example":"constpl_wAspvmEr4ACDZaPUtfwjsA"},"name":{"type":"string","description":"Nombre descriptivo de la template","example":"Consentimiento básico"},"version":{"type":"integer","description":"Versión del template de consentimiento","example":1},"duration":{"type":"string","description":"Periodo de retención de datos en [formato ISO](https://docs.digi.com/resources/documentation/digidocs/90001488-13/reference/r_iso_8601_duration_format.htm)","example":"P12M3H"},"title":{"type":"string","description":"Titulo que aparecerá en el checkbox del módulo de consentimiento","example":"Consentimiento general"},"text":{"type":"string","description":"Texto del consentimiento. Permite referenciar [documentos de privacidad](/docs/api/resources/schemas/privacydocument).\n","example":"De acuerdo a los {{ terms_and_conditions }} y {{ privacy_policy }} de Soyio."},"data_requirements":{"type":"array","description":"Lista de requerimientos de datos con información adicional. Ver [recurso](/docs/api/resources/schemas/datarequirement) para más información.","minItems":1,"items":{"type":"object","properties":{"key":{"type":"string","description":"Clave del dato. Es un texto libre que identifica específicamente el dato involucrado en el consentimiento.","example":"first_name"},"data_category":{"type":"string","description":"Categoría del dato según nuestra taxonomía. Revisa [taxonomía](/docs/integration-guide/taxonomy) para más información.","example":"user.name.first"},"data_uses":{"type":"array","description":"Lista de finalidades de tratamiento según nuestra taxonomía. Revisa [taxonomía](/docs/integration-guide/taxonomy) para más información.","items":{"type":"string"}}},"title":"DataRequirement"}},"data_subject":{"type":"string","description":"Sujeto de derecho para el cual se aplica este template de consentimiento.\nDefine la categoría de persona o entidad cuyos datos personales serán procesados.\n","enum":["anonymous_user","citizen_voter","commuter","consultant","customer","employee","job_applicant","next_of_kin","passenger","patient","prospect","shareholder","supplier_vendor","trainee","visitor"],"example":"customer"},"product_id":{"type":"string","description":"Identificador único del producto. No puede estar presente si se especifica `branch_id`.","example":"prod_1B2M2Y8AsgTpgAmY7PhCfg"},"branch_id":{"type":"string","description":"Identificador único de la branch. No puede estar presente si se especifica `product_id`.","example":"branch_1B2M2Y8AsgTpgAmY7PhCfg"},"optional":{"type":"boolean","description":"Indica si el template de consentimiento es opcional.","example":false},"enabled":{"type":"boolean","description":"Indica si la plantilla de consentimiento se muestra en el centro de privacidad.","example":true,"default":true},"created_at":{"type":"string","format":"date-time","description":"Fecha y hora de creación del template de consentimiento","example":"2024-03-20T15:30:00Z"},"updated_at":{"type":"string","format":"date-time","description":"Fecha y hora de la última actualización del template de consentimiento","example":"2024-03-21T10:15:00Z"}},"title":"ConsentTemplateIndex"},{"type":"object","required":["event_logs"],"properties":{"event_logs":{"type":"array","description":"Registro de eventos relacionados con el template de consentimiento (creación y actualización)","items":{"type":"object","description":"Registro de un evento en el sistema","properties":{"timestamp":{"type":"string","format":"date-time","description":"Fecha y hora del evento","example":"2024-03-20T15:30:00Z"},"type":{"type":"string","description":"Tipo de evento","example":"created"},"description":{"type":"string","description":"Descripción del evento","example":"Consent template created"},"payload":{"type":"object","description":"Datos adicionales del evento","example":{"version":1,"created_by":"cusr_123"}}},"title":"EventLog"}}}}],"title":"ConsentTemplate"}}}},"401":{"description":"Error de autenticación","content":{"application/json":{"schema":{"type":"object","required":["type","title","status","detail"],"properties":{"type":{"type":"string","example":"authentication_error"},"title":{"type":"string","example":"Unauthorized"},"status":{"type":"integer","example":401},"detail":{"type":"string","example":"We could not authenticate your credentials. Please check the documentation at https://docs.soyio.id"}}}}}},"403":{"description":"Funcionalidad REDEC no habilitada","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string","example":"REDEC functionality is not enabled for this company"}}}}}},"404":{"description":"Template o producto no encontrado","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"}},"examples":{"template_not_found":{"value":{"error":"Template not found"},"summary":"Template no encontrado"},"product_not_found":{"value":{"error":"Product not found"},"summary":"Producto no encontrado"}}}}}},"422":{"description":"Error de validación REDEC","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"}},"examples":{"single_data_use":{"value":{"error":"REDEC templates must have exactly one data use"},"summary":"Debe tener exactamente un data use"},"redec_compatible_use":{"value":{"error":"Data use must be one of: finance.commercial_risk_assessment, finance.credit_risk_assessment"},"summary":"Data use no compatible con REDEC"},"product_required":{"value":{"error":"REDEC templates must have a product"},"summary":"Producto requerido"},"redec_kind_required":{"value":{"error":"Product must have a REDEC kind"},"summary":"Producto sin REDEC kind"}}}}}}}}
>
  
</StatusCodes>


      