---
id: create-action-token
title: "Crea un action token"
description: "Crea un token de acción de consentimiento para un template específico. Requerido en el flujo de creación de [Consent Commits](/docs/api/resources/schemas/consentcommit) y/o [Consent Actions](/docs/api/resources/schemas/consentaction)."
sidebar_label: "Crea un action token"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/api/resources/soyio-api
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Crea un action token"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/consent_templates/{id}/action_tokens"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Crea un token de acción de consentimiento para un template específico. Requerido en el flujo de creación de [Consent Commits](/docs/api/resources/schemas/consentcommit) y/o [Consent Actions](/docs/api/resources/schemas/consentaction).

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"name":"id","in":"path","required":true,"description":"Id del template de consentimiento","schema":{"type":"string"},"example":"constpl_wAspvmEr4ACDZaPUtfwjsA"}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["context","kind","action_type","timestamp"],"properties":{"context":{"type":"string","description":"Contexto de la acción, libre. Quedará registrado en el action / commit asociado. Sirve mayormente para identificar rápidamente el contexto en el que se pidió el consentimiento.","example":"web_signup"},"kind":{"type":"string","description":"Tipo de acción (\"grant\" o \"revoke\")","enum":["grant","revoke"],"example":"grant"},"action_type":{"type":"string","description":"Tipo específico de acción (solo \"opt_in_click\" por ahora)","enum":["opt_in_click"],"example":"opt_in_click"},"timestamp":{"type":"string","format":"date-time","description":"Fecha y hora de la acción","example":"2024-03-20T15:30:00Z"},"action_data":{"type":"object","description":"Datos adicionales de la acción (máximo 4KB de tamaño serializado en JSON)","example":{"checkbox_id":"cb_123"}},"contextual_data":{"type":"object","description":"Datos contextuales como IP, user agent, etc.","properties":{"ip":{"type":"string","example":"192.168.1.1"},"user_agent":{"type":"string","example":"Mozilla/5.0"},"url":{"type":"string","example":"https://example.com"},"phone_number":{"type":"string","example":"+56912345678"}}}},"title":"ActionTokenCreateInput"}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"201":{"description":"Token de acción de consentimiento creado exitosamente","content":{"application/json":{"schema":{"type":"object","properties":{"action_token":{"type":"string","description":"Token JWT de la acción de consentimiento","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."}},"title":"ActionTokenResponse"}}}},"401":{"description":"Error de autenticación","content":{"application/json":{"schema":{"type":"object","required":["type","title","status","detail"],"properties":{"type":{"type":"string","example":"authentication_error"},"title":{"type":"string","example":"Unauthorized"},"status":{"type":"integer","example":401},"detail":{"type":"string","example":"We could not authenticate your credentials. Please check the documentation at https://docs.soyio.id"}}}}}},"404":{"description":"Recurso no encontrado","content":{"application/json":{"schema":{"type":"object","required":["type","title","status","detail"],"properties":{"type":{"type":"string","example":"invalid_request_error"},"title":{"type":"string","example":"Resource not found"},"status":{"type":"integer","example":404},"detail":{"type":"string","example":"Couldn't find <resource> with id '<id>'. Please check your request and try again"}},"title":"NotFoundErrorSchema"}}}},"422":{"description":"Error de validación","content":{"application/json":{"schema":{"type":"object","required":["type","title","status","errors"],"properties":{"type":{"type":"string","example":"validation_error"},"title":{"type":"string","example":"Validation error"},"status":{"type":"integer","example":422},"errors":{"type":"array","items":{"type":"string"}}},"title":"ValidationError"}}}}}}
>
  
</StatusCodes>


      