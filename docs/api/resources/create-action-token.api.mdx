---
id: create-action-token
title: "Crea un action token"
description: "Crea un token de acción de consentimiento para un template específico. Requerido en el flujo de creación de [Consent Commits](/docs/api/resources/schemas/consentcommit) y/o [Consent Actions](/docs/api/resources/schemas/consentaction)."
sidebar_label: "Crea un action token"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/api/resources/soyio-api
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Crea un action token"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/consent_templates/{id}/action_tokens"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Crea un token de acción de consentimiento para un template específico. Requerido en el flujo de creación de [Consent Commits](/docs/api/resources/schemas/consentcommit) y/o [Consent Actions](/docs/api/resources/schemas/consentaction).

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"name":"id","in":"path","required":true,"description":"Id del template de consentimiento","schema":{"type":"string"},"example":"constpl_wAspvmEr4ACDZaPUtfwjsA"}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["context","kind","action_type","timestamp"],"properties":{"context":{"type":"string","description":"Contexto de la acción, libre. Quedará registrado en el action / commit asociado. Sirve mayormente para identificar rápidamente el contexto en el que se pidió el consentimiento.","example":"web_signup"},"kind":{"type":"string","description":"Tipo de acción (\"grant\" o \"revoke\")","enum":["grant","revoke"],"example":"grant"},"action_type":{"type":"string","description":"Tipo específico de acción","enum":["opt_in_click","voice_confirmation","physical_confirmation"],"example":"opt_in_click"},"timestamp":{"type":"string","format":"date-time","description":"Fecha y hora de la acción","example":"2024-03-20T15:30:00Z"},"action_data":{"type":"object","description":"Datos adicionales de la acción. Se permite cualquier campo adicional, pero se recomienda no exceder los 4KB de tamaño serializado en JSON.\n\nEn caso de usar REDEC y se está tratando un consentimiento de audio, puede incluir los campos de `audio_reference` y `audio_hash`. Más información en la [documentación de REDEC](/docs/integration-guide/redec/consent-registration#consentimiento-verbal-con-audio).\n","example":{"checkbox_id":"cb_123","audio_reference":"https://example.com/audio/consent_12345.mp3","audio_hash":"a3b2c1d4e5f67890abcdef1234567890abcdef1234567890abcdef1234567890"}},"contextual_data":{"description":"Requerido cuando `action_type` es `opt_in_click`.","type":"object","properties":{"ip":{"type":"string","example":"192.168.1.1"},"user_agent":{"type":"string","example":"Mozilla/5.0"},"url":{"type":"string","example":"https://example.com"},"phone_number":{"type":"string","example":"+56912345678"}},"title":"ContextualData"}},"title":"ActionTokenCreateInput"}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"201":{"description":"Token de acción de consentimiento creado exitosamente","content":{"application/json":{"schema":{"type":"object","properties":{"action_token":{"type":"string","description":"Token JWT de la acción de consentimiento","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."}},"title":"ActionTokenResponse"}}}},"401":{"description":"Error de autenticación","content":{"application/json":{"schema":{"type":"object","required":["type","title","status","detail"],"properties":{"type":{"type":"string","example":"authentication_error"},"title":{"type":"string","example":"Unauthorized"},"status":{"type":"integer","example":401},"detail":{"type":"string","example":"We could not authenticate your credentials. Please check the documentation at https://docs.soyio.id"}}}}}},"404":{"description":"Recurso no encontrado","content":{"application/json":{"schema":{"type":"object","required":["type","title","status","detail"],"properties":{"type":{"type":"string","example":"invalid_request_error"},"title":{"type":"string","example":"Resource not found"},"status":{"type":"integer","example":404},"detail":{"type":"string","example":"Couldn't find <resource> with id '<id>'. Please check your request and try again"}},"title":"NotFoundErrorSchema"}}}},"422":{"description":"Error de validación","content":{"application/json":{"schema":{"type":"object","required":["type","title","status","errors"],"properties":{"type":{"type":"string","example":"validation_error"},"title":{"type":"string","example":"Validation error"},"status":{"type":"integer","example":422},"errors":{"type":"array","items":{"type":"string"}}},"title":"ValidationError"}}}}}}
>
  
</StatusCodes>


      