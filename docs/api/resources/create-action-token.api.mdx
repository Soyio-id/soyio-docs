---
id: create-action-token
title: "Crea un action token"
description: "Crea un token de acción de consentimiento para un template específico. Requerido en el flujo de creación de [Consent Commits](/docs/api/resources/schemas/consentcommit) y/o [Consent Actions](/docs/api/resources/schemas/consentaction)."
sidebar_label: "Crea un action token"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/api/resources/soyio-api
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Crea un action token"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/consent_templates/{id}/action_tokens"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Crea un token de acción de consentimiento para un template específico. Requerido en el flujo de creación de [Consent Commits](/docs/api/resources/schemas/consentcommit) y/o [Consent Actions](/docs/api/resources/schemas/consentaction).

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"name":"id","in":"path","required":true,"description":"Id del template de consentimiento","schema":{"type":"string"},"example":"constpl_wAspvmEr4ACDZaPUtfwjsA"}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["context","kind","action_type","timestamp"],"properties":{"context":{"type":"string","description":"Contexto de la acción, libre. Quedará registrado en el action / commit asociado. Sirve mayormente para identificar rápidamente el contexto en el que se pidió el consentimiento.","example":"web_signup"},"kind":{"type":"string","description":"Tipo de acción (\"grant\" o \"revoke\")","enum":["grant","revoke"],"example":"grant"},"action_type":{"type":"string","description":"Tipo específico de acción (solo \"opt_in_click\" por ahora)","enum":["opt_in_click"],"example":"opt_in_click"},"timestamp":{"type":"string","format":"date-time","description":"Fecha y hora de la acción","example":"2024-03-20T15:30:00Z"},"action_data":{"type":"object","description":"Datos adicionales de la acción (máximo 4KB de tamaño serializado en JSON)","example":{"checkbox_id":"cb_123"}},"contextual_data":{"type":"object","description":"Datos contextuales como IP, user agent, etc.","properties":{"ip":{"type":"string","example":"192.168.1.1"},"user_agent":{"type":"string","example":"Mozilla/5.0"},"url":{"type":"string","example":"https://example.com"},"phone_number":{"type":"string","example":"+56912345678"}}}},"title":"ActionTokenCreateInput"}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"201":{"description":"Token de acción de consentimiento creado exitosamente","content":{"application/json":{"schema":{"type":"object","properties":{"action_token":{"type":"string","description":"Token JWT de la acción de consentimiento","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."}},"title":"ActionTokenResponse"}}}},"401":{"description":"Error de autenticación","content":{"application/json":{"schema":{"type":"object","required":["type","title","status","detail"],"properties":{"type":{"type":"string","example":"authentication_error"},"title":{"type":"string","example":"Unauthorized"},"status":{"type":"integer","example":401},"detail":{"type":"string","example":"We could not authenticate your credentials. Please check the documentation at https://docs.soyio.id"}}}}}},"404":{"description":"Recurso no encontrado","content":{"application/json":{"schema":{"type":"object","required":["type","title","status","detail"],"properties":{"type":{"type":"string","example":"invalid_request_error"},"title":{"type":"string","example":"Resource not found"},"status":{"type":"integer","example":404},"detail":{"type":"string","example":"Couldn't find <resource> with id '<id>'. Please check your request and try again"}},"title":"NotFoundErrorSchema"}}}},"422":{"description":"Error de validación","content":{"application/json":{"schema":{"type":"object","required":["type","title","status","errors"],"properties":{"type":{"type":"string","example":"validation_error"},"title":{"type":"string","example":"Validation error"},"status":{"type":"integer","example":422},"errors":{"type":"array","items":{"type":"string"}}},"title":"ValidationError"}}}}}}
>
  
</StatusCodes>


      