---
id: create-action-token
title: "Crea un action token"
description: "Crea un token de acción de consentimiento para un template específico. Requerido en el flujo de creación de [Consent Commits](/docs/api/resources/schemas/consentcommit) y/o [Consent Actions](/docs/api/resources/schemas/consentaction)."
sidebar_label: "Crea un action token"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/api/resources/soyio-api
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Crea un action token"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/consent_templates/{id}/action_tokens"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Crea un token de acción de consentimiento para un template específico. Requerido en el flujo de creación de [Consent Commits](/docs/api/resources/schemas/consentcommit) y/o [Consent Actions](/docs/api/resources/schemas/consentaction).

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"name":"id","in":"path","required":true,"description":"Id del template de consentimiento","schema":{"type":"string"},"example":"constpl_wAspvmEr4ACDZaPUtfwjsA"}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["context","kind","action_type","timestamp"],"properties":{"context":{"type":"string","description":"Contexto de la acción, libre. Quedará registrado en el action / commit asociado. Sirve mayormente para identificar rápidamente el contexto en el que se pidió el consentimiento.","example":"web_signup"},"kind":{"type":"string","description":"Tipo de acción (\"grant\" o \"revoke\")","enum":["grant","revoke"],"example":"grant"},"action_type":{"type":"string","description":"Tipo específico de acción (solo \"opt_in_click\" por ahora)","enum":["opt_in_click"],"example":"opt_in_click"},"timestamp":{"type":"string","format":"date-time","description":"Fecha y hora de la acción","example":"2024-03-20T15:30:00Z"},"action_data":{"type":"object","description":"Datos adicionales de la acción (máximo 4KB de tamaño serializado en JSON)","example":{"checkbox_id":"cb_123"}},"contextual_data":{"type":"object","description":"Datos contextuales como IP, user agent, etc.","properties":{"ip":{"type":"string","example":"192.168.1.1"},"user_agent":{"type":"string","example":"Mozilla/5.0"},"url":{"type":"string","example":"https://example.com"},"phone_number":{"type":"string","example":"+56912345678"}},"title":"ContextualData"}},"title":"ActionTokenCreateInput"}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"201":{"description":"Token de acción de consentimiento creado exitosamente","content":{"application/json":{"schema":{"type":"object","properties":{"action_token":{"type":"string","description":"Token JWT de la acción de consentimiento","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."}},"title":"ActionTokenResponse"}}}},"401":{"description":"Error de autenticación","content":{"application/json":{"schema":{"type":"object","required":["type","title","status","detail"],"properties":{"type":{"type":"string","example":"authentication_error"},"title":{"type":"string","example":"Unauthorized"},"status":{"type":"integer","example":401},"detail":{"type":"string","example":"We could not authenticate your credentials. Please check the documentation at https://docs.soyio.id"}}}}}},"404":{"description":"Recurso no encontrado","content":{"application/json":{"schema":{"type":"object","required":["type","title","status","detail"],"properties":{"type":{"type":"string","example":"invalid_request_error"},"title":{"type":"string","example":"Resource not found"},"status":{"type":"integer","example":404},"detail":{"type":"string","example":"Couldn't find <resource> with id '<id>'. Please check your request and try again"}},"title":"NotFoundErrorSchema"}}}},"422":{"description":"Error de validación","content":{"application/json":{"schema":{"type":"object","required":["type","title","status","errors"],"properties":{"type":{"type":"string","example":"validation_error"},"title":{"type":"string","example":"Validation error"},"status":{"type":"integer","example":422},"errors":{"type":"array","items":{"type":"string"}}},"title":"ValidationError"}}}}}}
>
  
</StatusCodes>


      