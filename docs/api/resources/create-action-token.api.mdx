---
id: create-action-token
title: "Crea un action token"
description: "Crea un token de acción de consentimiento para un template específico. Requerido en el flujo de creación de [Consent Commits](/docs/api/resources/schemas/consentcommit) y/o [Consent Actions](/docs/api/resources/schemas/consentaction)."
sidebar_label: "Crea un action token"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/api/resources/soyio-api
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Crea un action token"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/consent_templates/{id}/action_tokens"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Crea un token de acción de consentimiento para un template específico. Requerido en el flujo de creación de [Consent Commits](/docs/api/resources/schemas/consentcommit) y/o [Consent Actions](/docs/api/resources/schemas/consentaction).

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"name":"id","in":"path","required":true,"description":"Id del template de consentimiento","schema":{"type":"string"},"example":"constpl_wAspvmEr4ACDZaPUtfwjsA"}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["context","kind","action_type","timestamp"],"properties":{"context":{"type":"string","description":"Contexto de la acción, libre. Quedará registrado en el action / commit asociado. Sirve mayormente para identificar rápidamente el contexto en el que se pidió el consentimiento.","example":"web_signup"},"kind":{"type":"string","description":"Tipo de acción (\"grant\" o \"revoke\")","enum":["grant","revoke"],"example":"grant"},"action_type":{"type":"string","description":"Tipo específico de acción (solo \"opt_in_click\" por ahora)","enum":["opt_in_click"],"example":"opt_in_click"},"timestamp":{"type":"string","format":"date-time","description":"Fecha y hora de la acción","example":"2024-03-20T15:30:00Z"},"action_data":{"type":"object","description":"Datos adicionales de la acción (máximo 4KB de tamaño serializado en JSON)","example":{"checkbox_id":"cb_123"}},"contextual_data":{"type":"object","description":"Datos contextuales como IP, user agent, etc.","properties":{"ip":{"type":"string","example":"192.168.1.1"},"user_agent":{"type":"string","example":"Mozilla/5.0"},"url":{"type":"string","example":"https://example.com"},"phone_number":{"type":"string","example":"+56912345678"}}}},"title":"ActionTokenCreateInput"}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"201":{"description":"Token de acción de consentimiento creado exitosamente","content":{"application/json":{"schema":{"type":"object","properties":{"action_token":{"type":"string","description":"Token JWT de la acción de consentimiento","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."}},"title":"ActionTokenResponse"}}}},"401":{"description":"Error de autenticación","content":{"application/json":{"schema":{"type":"object","required":["type","title","status","detail"],"properties":{"type":{"type":"string","example":"authentication_error"},"title":{"type":"string","example":"Unauthorized"},"status":{"type":"integer","example":401},"detail":{"type":"string","example":"We could not authenticate your credentials. Please check the documentation at https://docs.soyio.id"}}}}}},"404":{"description":"Recurso no encontrado","content":{"application/json":{"schema":{"type":"object","required":["type","title","status","detail"],"properties":{"type":{"type":"string","example":"invalid_request_error"},"title":{"type":"string","example":"Resource not found"},"status":{"type":"integer","example":404},"detail":{"type":"string","example":"Couldn't find <resource> with id '<id>'. Please check your request and try again"}},"title":"NotFoundErrorSchema"}}}},"422":{"description":"Error de validación","content":{"application/json":{"schema":{"type":"object","required":["type","title","status","errors"],"properties":{"type":{"type":"string","example":"validation_error"},"title":{"type":"string","example":"Validation error"},"status":{"type":"integer","example":422},"errors":{"type":"array","items":{"type":"string"}}},"title":"ValidationError"}}}}}}
>
  
</StatusCodes>


      