---
id: create-action-token
title: "Crea un action token"
description: "Crea un token de acción de consentimiento para un template específico. Requerido en el flujo de creación de [Consent Commits](/docs/api/resources/schemas/consentcommit) y/o [Consent Actions](/docs/api/resources/schemas/consentaction)."
sidebar_label: "Crea un action token"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/api/resources/soyio-api
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Crea un action token"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/consent_templates/{id}/action_tokens"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Crea un token de acción de consentimiento para un template específico. Requerido en el flujo de creación de [Consent Commits](/docs/api/resources/schemas/consentcommit) y/o [Consent Actions](/docs/api/resources/schemas/consentaction).

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"name":"id","in":"path","required":true,"description":"Id del template de consentimiento","schema":{"type":"string"},"example":"constpl_wAspvmEr4ACDZaPUtfwjsA"}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["context","kind","action_type","timestamp"],"properties":{"context":{"type":"string","description":"Contexto de la acción, libre. Quedará registrado en el action / commit asociado. Sirve mayormente para identificar rápidamente el contexto en el que se pidió el consentimiento.","example":"web_signup"},"kind":{"type":"string","description":"Tipo de acción (\"grant\" o \"revoke\")","enum":["grant","revoke"],"example":"grant"},"action_type":{"type":"string","description":"Tipo específico de acción","enum":["opt_in_click","voice_confirmation","physical_confirmation"],"example":"opt_in_click"},"timestamp":{"type":"string","format":"date-time","description":"Fecha y hora de la acción","example":"2024-03-20T15:30:00Z"},"action_data":{"type":"object","description":"Datos adicionales de la acción. Se permite cualquier campo adicional, pero se recomienda no exceder los 4KB de tamaño serializado en JSON.\n\nEn caso de usar REDEC y se está tratando un consentimiento de audio, puede incluir los campos de `audio_reference` y `audio_hash`. Más información en la [documentación de REDEC](/docs/integration-guide/redec/consent-registration#consentimiento-verbal-con-audio).\n","example":{"checkbox_id":"cb_123","audio_reference":"https://example.com/audio/consent_12345.mp3","audio_hash":"a3b2c1d4e5f67890abcdef1234567890abcdef1234567890abcdef1234567890"}},"contextual_data":{"description":"Requerido cuando `action_type` es `opt_in_click`.","type":"object","properties":{"ip":{"type":"string","example":"192.168.1.1"},"user_agent":{"type":"string","example":"Mozilla/5.0"},"url":{"type":"string","example":"https://example.com"},"phone_number":{"type":"string","example":"+56912345678"}},"title":"ContextualData"}},"title":"ActionTokenCreateInput"}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"201":{"description":"Token de acción de consentimiento creado exitosamente","content":{"application/json":{"schema":{"type":"object","properties":{"action_token":{"type":"string","description":"Token JWT de la acción de consentimiento","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."}},"title":"ActionTokenResponse"}}}},"401":{"description":"Error de autenticación","content":{"application/json":{"schema":{"type":"object","required":["type","title","status","detail"],"properties":{"type":{"type":"string","example":"authentication_error"},"title":{"type":"string","example":"Unauthorized"},"status":{"type":"integer","example":401},"detail":{"type":"string","example":"We could not authenticate your credentials. Please check the documentation at https://docs.soyio.id"}}}}}},"404":{"description":"Recurso no encontrado","content":{"application/json":{"schema":{"type":"object","required":["type","title","status","detail"],"properties":{"type":{"type":"string","example":"invalid_request_error"},"title":{"type":"string","example":"Resource not found"},"status":{"type":"integer","example":404},"detail":{"type":"string","example":"Couldn't find <resource> with id '<id>'. Please check your request and try again"}},"title":"NotFoundErrorSchema"}}}},"422":{"description":"Error de validación","content":{"application/json":{"schema":{"type":"object","required":["type","title","status","errors"],"properties":{"type":{"type":"string","example":"validation_error"},"title":{"type":"string","example":"Validation error"},"status":{"type":"integer","example":422},"errors":{"type":"array","items":{"type":"string"}}},"title":"ValidationError"}}}}}}
>
  
</StatusCodes>


      