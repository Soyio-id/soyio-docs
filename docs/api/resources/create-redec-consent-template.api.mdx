---
id: create-redec-consent-template
title: "Crear un template de consentimiento para REDEC"
description: "Crea un nuevo template de consentimiento a través del endpoint REDEC. Este endpoint está diseñado"
sidebar_label: "Crear un template de consentimiento para REDEC"
hide_title: true
hide_table_of_contents: true
api: eJztW0tvG0cS/iuFOUkC9aDs7GZ5CNaRlKwDxxFsOcGuLAyL00WyrZnuST8Y0QJ/jI855BDkliv/2KK6ZzjDhyjL8WaBXfticdhdVV3v+qZ5mzgc2aR3mbw4Oz07Sa46iSCbGVk6qVXSS04MIXgFytNEg6OizNERCIJMK0vKyUKSchoQnMHJ/GcLgnIgJUotlYNA9gDOrKPmIVk3fwdCWpr/ikK/VmRLyua/DGWGBSlHUKLBBTe7gR0poJwfOrpxOvDMfFHm9fdKmwKdnOhKgtfqtdrb+x5zKTCTWpGFFtPAISzs7e29VvtwlrfPOiBwpMgA3WDmKhG9AoEOwVuqdtQf4w5LBjJdlOjkIA/yRw6w0x9KhSqjg0wXBZlMYp4aaa9TtJasZfJ90NAsMySkW1uyu0VQr6A0WviMLWN1JoOaw/LF8+XlfUOCsvRaKtFnYYdy5E216xnC0CtWW9CfqA4SCJB1aGCMA5lLhwKj6XKMZ5//Ov8FX6ukk+iSDLJTPRVJL8kMoaMXzPIkGvaiOkXSSQz96Mm6L7WYJr3b8FEaEknPGU+dJBhdOf4KyzKXWSB7+Mayw94mNhtTgeHbPP9umPQubxM3LSnpJXrwhjJXcYgkLxOFBTN10uXhf7rhFcJHaflPdJhWO1jxtn5mfaR31UlKw+dzkiwzDiR7C7bWGalGyWpoPdfFwFBwXdccnm6wKHPe9q3cEm/JrCXjvazOycx/0YJtzmFXaiXZXmxKUnA5DMGi4enL7652xs6Vtnd4KHRmD4QcSXbTQ0NWe5OR5eee1RC1zgt45eHfjo6Ouo8//3y/++jQ0JAMqYwOTSqtTj//y1E3raVNI7eDsSt2Q2JgqRyZQiqEUhvI/Pwdh7CTVJQaSk+CLFidy0yyr+XacqjpmGm89Wgk07CC4EfPLg1CarB+RWUHS9o9P/6WdRjNfq8CL6TzuQ7ksURDGZn5uzoJjSm7HuibIE4x/03wynWDtZmfLCezEQch5kEedr/7xVkkvbs95ADOWamOoDaHRAOXtfmC+qA0coIZO8LVTrD4IZayZewYTPYwrpvWm3cPQkw3BzolwMyTEVwI2EC3t8A2tSkqkWZaCcmiW5jNYMpfVgTTks065ceC4KWeSn0QXHst5hqdoDE4XVPJM2kdMpGQPUylhHDI4CxJJ5GOijahjengmqZ1fHtLdj24ecG9BjrJcRJDm5mzm3OOjbUqlxz27EpSsLm4AMFaBay2glQTnfuMU3FT9O706qE01qUh/9RazNDRSJv3ETqunP+CC8mhJGM57R/AaSxqIy8Np/dLhzda6SKuhmyxt1F57VJSORrF4N8feSnosNo73Q11+RlasHLk+TxkIWfdWdjpX9O0vwtSDSW7b6gpWyTsMan9Df/4OcA+9Fkt/R6cG1mQARXT787e3nMsCL6Ar1h3e3u71eocK032e/CkpDyXQrdWP8P2YoGOUj1MB9K4cb8HX1E2DnpRmNVRvrO3d0qFHhksxzKDL+BLXsyHoIZQlqcZGkUuNd71e/Di1QVv/FpPyCj2DHgq4At4HrSJOTxduBA/gOe+GJDZRE7oLFXh234Pns9/L8jEclDngzU2m6jQTSmrNM5yt08av8rk/DcVjfMgwtJaT+s0C2kfRHBESoQTfj3/WfEJ15T+dVjR7FCVJqWbsmKw1eUs7222UIEy7/fgRBtDGiinzJn5b0pmgd+JVg4zB1/AGS9s9pVjragxwgXl85+HWq1sOudVoFYMWYuZSpEOjVYuLcfaaVaWdhrCI8xX9CTqFFOd5g6ltWkPMLteJu0MWjL4YNJ3B2Oo+VaOVEx9nAmtBEvgnczlWwTMR15FB7AO64zQAaWBLCjKyIaaH5JmIGLuyA4hv7wMxJvFsIE4TAEFFfN3dmXtZrqd1efc+TpSgtuC0khtgmKs5hSTI5TcXQ+lkgJXS6e3ZA44zxyE5L3I26H6vHfV81ZbToWFdFLwn9yFL4Qt0cQWIUdYztth35YaWZWK2azplZJTdPiiqc1PVeldMputdMXv0VOVwY+sf0PRo2JXV4ueeczZGBh6fLYWbWt3XqtT1jCtWayuEMAFNDps5qeLJrKuH9xjclcXJif2MKFtZSvlC24NUGk1LbS3bBuTdJJMOvmWVDrRLn7WReHrP5X1uUPF/UXmrdNFeM7y6ylxp/9GD9JqgAmrFN04riHXkpmWPOmpUdjEMySFNaXR7Jr8px2jobHORVhiPVMik05ICc1PnEGpAqOJtNJpw61M43YLmWaBKo+EqRT3W60pOEIbmP8esh6HRT1XHsDzqmmvZsPSkA0tjV2Nw/7AoMrGqRT95TaGaaXdL4+/Pf7n50/s6KIcPSn++dfz8clwxPIutn2wuOwkkcpDxG30tCJvJdDdEusyptiWwAOtc0K1LrESzMxK2NrecybUZaxWS8IMMbc0Y6/FQU7iQRw5U+WonMxz3MDSEhQ8mXN8xlaUlIttRDNILAkTJ3ZBQ/S5ix/bmWRl9q8ySWd7h97y1rXm/CN78os4Swi9CkhFUOn9fXY2u2pOvQn2qJMoa8cQT+hV+j8+6vJ/q/PfnW4RoRnGV4ROHgCWLDN4pRDSivLi2Cns3O2Pu+yQXFgX2FFsBetqjYu83hqRL2se6d2zQrWCv4l2kVrx3BAgxUILykMsTMhYDgbB5U4zShAai4wLc4bFQGowhNxeiHrgDuIysIlx9/w31QFBb1CJ0Pa85QBiicfSOm1k6K8qYlVpuNmv8dOTFWWFybFBoJbV+33FDqxkzDL4IN4zz1fAGhf8WJme83CY5X5K0KcJKzHXI9uP6zjhFPItmpBFsMD5r3XeY/fiKK46kW2hJgXXpY0AWaXvB0JlnQr5EynyB1+K+sNaKH9oCFeTKhUl8fEZd+2zJl2Zp/2liK2f/vTElpPizDx+cnL6Lzx/5YY/vbFPOG0/EMirHk5qTW+E9Vawn8H8nZVZwPNqlTYMQzSE+n6H/2x3mTbf7kMBQ1nhhYYcY0eRW9Uz/VdBw2UYr3v87aN//C8geZ/Quy3oXQhjqYIXRF9EIavmB74nA5eGMm+s3q4IFqwl127MlWHqaxPnwl5I9TTOQt0tyOH/MzRoaTT/PbwZDB1hM1dy3zSRdgkjfA8scIsxPva0zG/WAsYT3y06gw4XPe6fdqoPmLU/YMx+2YzXZCgb608D9qcB+9OA/T88YC812RsMGHuppMeJhPadDO39ssQRgZ/CWJsop6EWtP9+HWdyfHT8eP/o0f7x0UX3s96jo97R0b/YVq2u/+NIlyPMf8+dLBAwcz5MeR8ubfeie9Trfhal3QZWCLq5F6xoBrP1Caf13X2V6wWNpK08IWzTFgzl8W2FqPqj7e6809hwuqKm3W0vR+8WxKtKlspZrbSO0YTVc7INrcOi/Djmziuu7+Vrkd37QtEbCFehFBqN9p77SJ7GT40bbqC9ihlAi1mJ01yjuN8ip6HILtphsndwu23my26TIQbTWKpM2j1+tNx6nDGJZzo0JG34avXCTgStHm/Cqc6M0YYVi55RKJlFf3sILrUtuMJ3DTJhHTofIAdyKPP1gLvLGRqLoHfjKGiYOonl3zpcNltfKd6sjXwbDVhJs2mYX2x6fBTG8ijuVuo/cDz7XIDSDlpSEky1N+w4oQ5jbg/gPCe0FKdZcOPmHW98R4wOlsZ1G+Y2KYIhoykfrZvyqw0XwJRuXfz6I0ZdyYtB61vVEfnzpbTF21uQNiinKssw1AbcWNp4EU1NW8d7vH688/pWHL9jVHwQ80AA9Q+fqRIhHGKovWoZ5Ph4S2xNqkuNnGjiLc7/tNQsUyV3WGalGuXh7X0YxEKuwdxTi0RlsQZBL7x1MOZROFyqzKfAr73rK5QhgHxRIA+nyem9NzCTAJvzBcbmyuWdopzW9zSDDAMKnPWwB/ffy+zA9kuZK3LXjJTeeBW0PRo0ee1BysN6LFjmvHBnU7/BaDTEVzy3s6s9sc0misB77+BkpVpaVDuvZWBGummAwbGUaUBJLq+4pBTkxprvg5baujiHjZNechgErZH/tIHUmZrhMhaIeZMnvaTOZRaVGOibRToLENCkuz4Pk5lIEUOnNJ4GaGGn2rwb+rlluliWD6TJConhuFM2rywSPnCtjJccgDF4FipZRBlz5qOGNTxWEJpQN+IfX9Ud0zc/XKxJcmZ/9FTges2FgoTEGDYIT86fwjVNWdhSm9hF1jPHmFCQiX314t6lF2QDtsck3TRlh+cK6fQ1qT9Tdggc4ZsfLsLdAapx8AX00D6SvvdI8JIWb4NsePHTvr1+GE4rGUFsnxemfDlVRVUK39x6gu5nUEjlnWZlzToJJ9wXzXXms6YZi68W7rnk24bsw43VtS5sFXiuceePi+luhHQvK8CzjSyuAYtrgN0SXndZV5SQDZZxrTao08ZPtmIXS9DFPahBGzQIM31rpK/maEbs4gQTlR7UwcGz5rscUNx3h0yQhfvI1d089slak1VlxojbhXtkXFXZYR39vWnEWu+Cku7B0cFRqBTaugJVy3n4xxkmosfb3xrWbcHKBLPoEj79zOPTzzw+zs88qjLA5josc5QqAD4mTDexul/GNqSCcJfr+1UnGXMn0LtMbm8HaOmVyWczfsxdTGgbOsmEbxMMOB4vr2adJOb2Vjo6iV69fxGnw6q7We+DudTHHU+yjEq3dW27WTn/7iUXr0H1+xS+g5D0EoM/8XiKPyW9ZJFbQoUPz26THNXI44jXRppcIHiUayOIy+Wy/eMVHmEaCW9v44oLrkezWdKpjhLr8exqNpv9G6ofRJs=
sidebar_class_name: "post api-method"
info_path: docs/api/resources/soyio-api
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Crear un template de consentimiento para REDEC"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/redec/consent_templates"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Crea un nuevo template de consentimiento a través del endpoint REDEC. Este endpoint está diseñado
específicamente para templates de consentimiento en el contexto del cumplimiento normativo REDEC.

**Validaciones específicas de REDEC:**
- El template debe tener exactamente un data use
- El data use debe ser compatible con REDEC (`finance.commercial_risk_assessment` o `finance.credit_risk_assessment`)
- El template debe tener un producto asociado
- El producto debe tener un `redec_kind` configurado
- La funcionalidad REDEC debe estar habilitada para la compañía


<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"required":true,"content":{"application/json":{"schema":{"allOf":[{"type":"object","required":["name","title","text","duration","data_requirements","data_subject"],"properties":{"name":{"type":"string","description":"Nombre del template","example":"Mi template de consentimiento"},"duration":{"type":"string","description":"Período de disponibilidad en [formato ISO](https://docs.digi.com/resources/documentation/digidocs/90001488-13/reference/r_iso_8601_duration_format.htm). Esto determina por cuánto tiempo puedes solicitar los datos del usuario desde que te dio su consentimiento.","example":"P2M"},"title":{"type":"string","description":"Titulo que aparecerá en el checkbox del módulo de consentimiento","example":"Consentimiento general"},"text":{"type":"string","description":"Texto del template de consentimiento. Permite referenciar [documentos de privacidad](/docs/api/resources/schemas/privacydocument).\n","example":"De acuerdo a los {{ terms_and_conditions }} y {{ privacy_policy }} de Soyio."},"data_requirements":{"type":"array","description":"Lista de requerimientos de datos","items":{"type":"object","required":["key","data_uses"],"properties":{"key":{"type":"string","description":"Clave del dato. Es un texto libre que identifica específicamente el dato involucrado en el consentimiento.","example":"first_name"},"data_category":{"type":"string","description":"Categoría del dato personal. Debe seguir la [taxonomía de categorías de datos](/docs/integration-guide/taxonomy).\n\nLas siguientes llaves (`key`) infieren la categoría del dato personal:\n\n--------------------\n\n  - `name`: Primer nombre (**Name > First**)\n  - `last_name`: Apellido (**Name > Last**)\n  - `date_of_birth`: Fecha de nacimiento (**Demographic > Birth date**)\n  - `cl_carnet_rut`: RUT (**Government Id > National Identification Number**)\n  - `cl_carnet_doc_number`: Número de documento (**Government Id**)\n  - `cl_carnet_expiration_date`: Fecha de expiración del documento (**Government Id**)\n  - `cl_carnet_issue_date`: Fecha de emisión del documento (**Government Id**)\n  - `gender`: Género (**Demographic > Gender**)\n  - `nationality`: Nacionalidad (**Demographic**)\n  - `email`: Correo electrónico (**Contact > Email**)\n  - `phone_number`: Teléfono (**Contact > Phone number**)\n  - `national_id_front_photo`: Foto frontal del documento de identidad (**Government Id**)\n  - `national_id_back_photo`: Foto trasera del documento de identidad (**Government Id**)\n\n--------------------\n\nEsto significa que si se utiliza alguna de estas llaves, no es necesario especificar la categoría del dato.\n\nSi se especifica una de estas llaves y además se especifica la categoría del dato, la categoría dada tendrá prioridad sobre la predefinida.\n","example":"user.name.first"},"data_uses":{"type":"array","description":"Lista de usos permitidos para el dato, parte de la taxonomía de usos de datos","items":{"type":"string"}}},"title":"DataRequirementInput"}},"data_subject":{"type":"string","description":"Tipo de sujeto de datos para el cual se aplica este template de consentimiento.\nDefine la categoría de persona o entidad cuyos datos personales serán procesados.\n","enum":["anonymous_user","citizen_voter","commuter","consultant","customer","employee","job_applicant","next_of_kin","passenger","patient","prospect","shareholder","supplier_vendor","trainee","visitor"],"example":"customer"},"product_id":{"type":"string","description":"Identificador único del producto. No puede estar presente si se especifica `branch_id`.","example":"prod_1B2M2Y8AsgTpgAmY7PhCfg"},"branch_id":{"type":"string","description":"Identificador único de la branch. No puede estar presente si se especifica `product_id`.","example":"branch_1B2M2Y8AsgTpgAmY7PhCfg"},"optional":{"type":"boolean","description":"Indica si el template de consentimiento es opcional.","example":false},"enabled":{"type":"boolean","description":"Indica si la plantilla de consentimiento se muestra en el centro de privacidad.","example":true,"default":true}},"title":"ConsentTemplateInput"},{"type":"object","required":["product_id"],"properties":{"product_id":{"type":"string","description":"Identificador único del producto. Requerido para templates REDEC.","example":"prod_1B2M2Y8AsgTpgAmY7PhCfg"}}}],"title":"RedecConsentTemplateInput"}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"201":{"description":"Template de consentimiento REDEC creado","content":{"application/json":{"schema":{"description":"Una _consent template_ (template de consentimiento) es una configuración necesaria para el módulo de [_consent_](/docs/integration-guide/consent/introduction).\nEste modelo es versionado, por lo que cada cambio realizado genera una nueva versión, dejando trazable el historial de cambios.\n","x-tags":["Consent templates"],"allOf":[{"description":"Versión simplificada del template de consentimiento para listados.\nNo incluye `event_logs` para optimizar el tamaño de la respuesta.\n","type":"object","required":["id","name","title","text","version","duration","data_requirements","data_subject","created_at","updated_at"],"properties":{"id":{"type":"string","description":"Identificador único. Debe empezar con `constpl_`","example":"constpl_wAspvmEr4ACDZaPUtfwjsA"},"name":{"type":"string","description":"Nombre descriptivo de la template","example":"Consentimiento básico"},"version":{"type":"integer","description":"Versión del template de consentimiento","example":1},"duration":{"type":"string","description":"Periodo de retención de datos en [formato ISO](https://docs.digi.com/resources/documentation/digidocs/90001488-13/reference/r_iso_8601_duration_format.htm)","example":"P12M3H"},"title":{"type":"string","description":"Titulo que aparecerá en el checkbox del módulo de consentimiento","example":"Consentimiento general"},"text":{"type":"string","description":"Texto del consentimiento. Permite referenciar [documentos de privacidad](/docs/api/resources/schemas/privacydocument).\n","example":"De acuerdo a los {{ terms_and_conditions }} y {{ privacy_policy }} de Soyio."},"data_requirements":{"type":"array","description":"Lista de requerimientos de datos con información adicional. Ver [recurso](/docs/api/resources/schemas/datarequirement) para más información.","minItems":1,"items":{"type":"object","properties":{"key":{"type":"string","description":"Clave del dato. Es un texto libre que identifica específicamente el dato involucrado en el consentimiento.","example":"first_name"},"data_category":{"type":"string","description":"Categoría del dato según nuestra taxonomía. Revisa [taxonomía](/docs/integration-guide/taxonomy) para más información.","example":"user.name.first"},"data_uses":{"type":"array","description":"Lista de finalidades de tratamiento según nuestra taxonomía. Revisa [taxonomía](/docs/integration-guide/taxonomy) para más información.","items":{"type":"string"}}},"title":"DataRequirement"}},"data_subject":{"type":"string","description":"Sujeto de derecho para el cual se aplica este template de consentimiento.\nDefine la categoría de persona o entidad cuyos datos personales serán procesados.\n","enum":["anonymous_user","citizen_voter","commuter","consultant","customer","employee","job_applicant","next_of_kin","passenger","patient","prospect","shareholder","supplier_vendor","trainee","visitor"],"example":"customer"},"product_id":{"type":"string","description":"Identificador único del producto. No puede estar presente si se especifica `branch_id`.","example":"prod_1B2M2Y8AsgTpgAmY7PhCfg"},"branch_id":{"type":"string","description":"Identificador único de la branch. No puede estar presente si se especifica `product_id`.","example":"branch_1B2M2Y8AsgTpgAmY7PhCfg"},"optional":{"type":"boolean","description":"Indica si el template de consentimiento es opcional.","example":false},"enabled":{"type":"boolean","description":"Indica si la plantilla de consentimiento se muestra en el centro de privacidad.","example":true,"default":true},"created_at":{"type":"string","format":"date-time","description":"Fecha y hora de creación del template de consentimiento","example":"2024-03-20T15:30:00Z"},"updated_at":{"type":"string","format":"date-time","description":"Fecha y hora de la última actualización del template de consentimiento","example":"2024-03-21T10:15:00Z"}},"title":"ConsentTemplateIndex"},{"type":"object","required":["event_logs"],"properties":{"event_logs":{"type":"array","description":"Registro de eventos relacionados con el template de consentimiento (creación y actualización)","items":{"type":"object","description":"Registro de un evento en el sistema","properties":{"timestamp":{"type":"string","format":"date-time","description":"Fecha y hora del evento","example":"2024-03-20T15:30:00Z"},"type":{"type":"string","description":"Tipo de evento","example":"created"},"description":{"type":"string","description":"Descripción del evento","example":"Consent template created"},"payload":{"type":"object","description":"Datos adicionales del evento","example":{"version":1,"created_by":"cusr_123"}}},"title":"EventLog"}}}}],"title":"ConsentTemplate"}}}},"401":{"description":"Error de autenticación","content":{"application/json":{"schema":{"type":"object","required":["type","title","status","detail"],"properties":{"type":{"type":"string","example":"authentication_error"},"title":{"type":"string","example":"Unauthorized"},"status":{"type":"integer","example":401},"detail":{"type":"string","example":"We could not authenticate your credentials. Please check the documentation at https://docs.soyio.id"}}}}}},"403":{"description":"Funcionalidad REDEC no habilitada","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string","example":"REDEC functionality is not enabled for this company"}}}}}},"404":{"description":"Producto no encontrado","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string","example":"Product not found"}}}}}},"422":{"description":"Error de validación REDEC","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"}},"examples":{"single_data_use":{"value":{"error":"REDEC templates must have exactly one data use"},"summary":"Debe tener exactamente un data use"},"redec_compatible_use":{"value":{"error":"Data use must be one of: finance.commercial_risk_assessment, finance.credit_risk_assessment"},"summary":"Data use no compatible con REDEC"},"product_required":{"value":{"error":"REDEC templates must have a product"},"summary":"Producto requerido"},"redec_kind_required":{"value":{"error":"Product must have a REDEC kind"},"summary":"Producto sin REDEC kind"}}}}}}}}
>
  
</StatusCodes>


      