---
id: create-redec-consent-template
title: "Crear un template de consentimiento para REDEC"
description: "Crea un nuevo template de consentimiento a través del endpoint REDEC. Este endpoint está diseñado"
sidebar_label: "Crear un template de consentimiento para REDEC"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/api/resources/soyio-api
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Crear un template de consentimiento para REDEC"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/redec/consent_templates"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Crea un nuevo template de consentimiento a través del endpoint REDEC. Este endpoint está diseñado
específicamente para templates de consentimiento en el contexto del cumplimiento normativo REDEC.

**Validaciones específicas de REDEC:**
- El template debe tener exactamente un data use
- El data use debe ser compatible con REDEC (`finance.commercial_risk_assessment` o `finance.credit_risk_assessment`)
- El template debe tener un producto asociado
- El producto debe tener un `redec_kind` configurado
- La funcionalidad REDEC debe estar habilitada para la compañía


<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"required":true,"content":{"application/json":{"schema":{"allOf":[{"type":"object","required":["name","title","text","duration","data_requirements","data_subject"],"properties":{"name":{"type":"string","description":"Nombre del template","example":"Mi template de consentimiento"},"duration":{"type":"string","description":"Período de disponibilidad en [formato ISO](https://docs.digi.com/resources/documentation/digidocs/90001488-13/reference/r_iso_8601_duration_format.htm). Esto determina por cuánto tiempo puedes solicitar los datos del usuario desde que te dio su consentimiento.","example":"P2M"},"title":{"type":"string","description":"Titulo que aparecerá en el checkbox del módulo de consentimiento","example":"Consentimiento general"},"text":{"type":"string","description":"Texto del template de consentimiento. Permite referenciar [documentos de privacidad](/docs/api/resources/schemas/privacydocument).\n","example":"De acuerdo a los {{ terms_and_conditions }} y {{ privacy_policy }} de Soyio."},"data_requirements":{"type":"array","description":"Lista de requerimientos de datos","items":{"type":"object","required":["key","data_uses"],"properties":{"key":{"type":"string","description":"Clave del dato. Es un texto libre que identifica específicamente el dato involucrado en el consentimiento.","example":"first_name"},"data_category":{"type":"string","description":"Categoría del dato personal. Debe seguir la [taxonomía de categorías de datos](/docs/integration-guide/taxonomy).\n\nLas siguientes llaves (`key`) infieren la categoría del dato personal:\n\n--------------------\n\n  - `name`: Primer nombre (**Name > First**)\n  - `last_name`: Apellido (**Name > Last**)\n  - `date_of_birth`: Fecha de nacimiento (**Demographic > Birth date**)\n  - `cl_carnet_rut`: RUT (**Government Id > National Identification Number**)\n  - `cl_carnet_doc_number`: Número de documento (**Government Id**)\n  - `cl_carnet_expiration_date`: Fecha de expiración del documento (**Government Id**)\n  - `cl_carnet_issue_date`: Fecha de emisión del documento (**Government Id**)\n  - `gender`: Género (**Demographic > Gender**)\n  - `nationality`: Nacionalidad (**Demographic**)\n  - `email`: Correo electrónico (**Contact > Email**)\n  - `phone_number`: Teléfono (**Contact > Phone number**)\n  - `national_id_front_photo`: Foto frontal del documento de identidad (**Government Id**)\n  - `national_id_back_photo`: Foto trasera del documento de identidad (**Government Id**)\n\n--------------------\n\nEsto significa que si se utiliza alguna de estas llaves, no es necesario especificar la categoría del dato.\n\nSi se especifica una de estas llaves y además se especifica la categoría del dato, la categoría dada tendrá prioridad sobre la predefinida.\n","example":"user.name.first"},"data_uses":{"type":"array","description":"Lista de usos permitidos para el dato, parte de la taxonomía de usos de datos","items":{"type":"string"}}},"title":"DataRequirementInput"}},"data_subject":{"type":"string","description":"Tipo de sujeto de datos para el cual se aplica este template de consentimiento.\nDefine la categoría de persona o entidad cuyos datos personales serán procesados.\n","enum":["anonymous_user","citizen_voter","commuter","consultant","customer","employee","job_applicant","next_of_kin","passenger","patient","prospect","shareholder","supplier_vendor","trainee","visitor"],"example":"customer"},"product_id":{"type":"string","description":"Identificador único del producto. No puede estar presente si se especifica `branch_id`.","example":"prod_1B2M2Y8AsgTpgAmY7PhCfg"},"branch_id":{"type":"string","description":"Identificador único de la branch. No puede estar presente si se especifica `product_id`.","example":"branch_1B2M2Y8AsgTpgAmY7PhCfg"},"optional":{"type":"boolean","description":"Indica si el template de consentimiento es opcional.","example":false},"enabled":{"type":"boolean","description":"Indica si la plantilla de consentimiento se muestra en el centro de privacidad.","example":true,"default":true}},"title":"ConsentTemplateInput"},{"type":"object","required":["product_id"],"properties":{"product_id":{"type":"string","description":"Identificador único del producto. Requerido para templates REDEC.","example":"prod_1B2M2Y8AsgTpgAmY7PhCfg"}}}],"title":"RedecConsentTemplateInput"}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"201":{"description":"Template de consentimiento REDEC creado","content":{"application/json":{"schema":{"description":"Una _consent template_ (template de consentimiento) es una configuración necesaria para el módulo de [_consent_](/docs/integration-guide/consent/introduction).\nEste modelo es versionado, por lo que cada cambio realizado genera una nueva versión, dejando trazable el historial de cambios.\n","x-tags":["Consent templates"],"allOf":[{"description":"Versión simplificada del template de consentimiento para listados.\nNo incluye `event_logs` para optimizar el tamaño de la respuesta.\n","x-tags":["Consent templates"],"type":"object","required":["id","name","title","text","version","duration","data_requirements","data_subject","created_at"],"properties":{"id":{"type":"string","description":"Identificador único. Debe empezar con `constpl_`","example":"constpl_wAspvmEr4ACDZaPUtfwjsA"},"name":{"type":"string","description":"Nombre descriptivo de la template","example":"Consentimiento básico"},"version":{"type":"integer","description":"Versión del template de consentimiento","example":1},"duration":{"type":"string","description":"Periodo de retención de datos en [formato ISO](https://docs.digi.com/resources/documentation/digidocs/90001488-13/reference/r_iso_8601_duration_format.htm)","example":"P12M3H"},"title":{"type":"string","description":"Titulo que aparecerá en el checkbox del módulo de consentimiento","example":"Consentimiento general"},"text":{"type":"string","description":"Texto del consentimiento. Permite referenciar [documentos de privacidad](/docs/api/resources/schemas/privacydocument).\n","example":"De acuerdo a los {{ terms_and_conditions }} y {{ privacy_policy }} de Soyio."},"data_requirements":{"type":"array","description":"Lista de requerimientos de datos con información adicional. Ver [recurso](/docs/api/resources/schemas/datarequirement) para más información.","minItems":1,"items":{"type":"object","x-tags":["Consent templates"],"properties":{"key":{"type":"string","description":"Clave del dato. Es un texto libre que identifica específicamente el dato involucrado en el consentimiento.","example":"first_name"},"data_category":{"type":"string","description":"Categoría del dato según nuestra taxonomía. Revisa [taxonomía](/docs/integration-guide/taxonomy) para más información.","example":"user.name.first"},"data_uses":{"type":"array","description":"Lista de finalidades de tratamiento según nuestra taxonomía. Revisa [taxonomía](/docs/integration-guide/taxonomy) para más información.","items":{"type":"string"}}},"title":"DataRequirement"}},"data_subject":{"type":"string","description":"Sujeto de derecho para el cual se aplica este template de consentimiento.\nDefine la categoría de persona o entidad cuyos datos personales serán procesados.\n","enum":["anonymous_user","citizen_voter","commuter","consultant","customer","employee","job_applicant","next_of_kin","passenger","patient","prospect","shareholder","supplier_vendor","trainee","visitor"],"example":"customer"},"product_id":{"type":"string","description":"Identificador único del producto. No puede estar presente si se especifica `branch_id`.","example":"prod_1B2M2Y8AsgTpgAmY7PhCfg"},"branch_id":{"type":"string","description":"Identificador único de la branch. No puede estar presente si se especifica `product_id`.","example":"branch_1B2M2Y8AsgTpgAmY7PhCfg"},"optional":{"type":"boolean","description":"Indica si el template de consentimiento es opcional.","example":false},"enabled":{"type":"boolean","description":"Indica si la plantilla de consentimiento se muestra en el centro de privacidad.","example":true,"default":true},"created_at":{"type":"string","format":"date-time","description":"Fecha y hora de creación del template de consentimiento","example":"2024-03-20T15:30:00Z"},"updated_at":{"type":"string","format":"date-time","description":"Fecha y hora de la última actualización del template de consentimiento","example":"2024-03-21T10:15:00Z"}},"title":"ConsentTemplateIndex"},{"type":"object","required":["event_logs"],"properties":{"event_logs":{"type":"array","description":"Registro de eventos relacionados con el template de consentimiento (creación y actualización)","items":{"type":"object","x-tags":["Consent templates"],"description":"Registro de un evento en el sistema","properties":{"timestamp":{"type":"string","format":"date-time","description":"Fecha y hora del evento","example":"2024-03-20T15:30:00Z"},"type":{"type":"string","description":"Tipo de evento","example":"created"},"description":{"type":"string","description":"Descripción del evento","example":"Consent template created"},"payload":{"type":"object","description":"Datos adicionales del evento","example":{"version":1,"created_by":"cusr_123"}}},"title":"EventLog"}}}}],"title":"ConsentTemplate"}}}},"401":{"description":"Error de autenticación","content":{"application/json":{"schema":{"type":"object","required":["type","title","status","detail"],"properties":{"type":{"type":"string","example":"authentication_error"},"title":{"type":"string","example":"Unauthorized"},"status":{"type":"integer","example":401},"detail":{"type":"string","example":"We could not authenticate your credentials. Please check the documentation at https://docs.soyio.id"}}}}}},"403":{"description":"Funcionalidad REDEC no habilitada","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string","example":"REDEC functionality is not enabled for this company"}}}}}},"404":{"description":"Producto no encontrado","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string","example":"Product not found"}}}}}},"422":{"description":"Error de validación REDEC","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"}},"examples":{"single_data_use":{"value":{"error":"REDEC templates must have exactly one data use"},"summary":"Debe tener exactamente un data use"},"redec_compatible_use":{"value":{"error":"Data use must be one of: finance.commercial_risk_assessment, finance.credit_risk_assessment"},"summary":"Data use no compatible con REDEC"},"product_required":{"value":{"error":"REDEC templates must have a product"},"summary":"Producto requerido"},"redec_kind_required":{"value":{"error":"Product must have a REDEC kind"},"summary":"Producto sin REDEC kind"}}}}}}}}
>
  
</StatusCodes>


      