---
id: create-redec-consent-action
title: "Crear un consent action para REDEC"
description: "Crea un nuevo consent action a través del endpoint REDEC. Este endpoint está diseñado"
sidebar_label: "Crear un consent action para REDEC"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/api/resources/soyio-api
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Crear un consent action para REDEC"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/redec/consent_actions"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Crea un nuevo consent action a través del endpoint REDEC. Este endpoint está diseñado
específicamente para registrar consentimientos en el contexto del cumplimiento normativo REDEC.

Debe proporcionar ya sea `entity_id` (para una entidad existente) o `user_reference` (para crear/encontrar una entidad).


<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["action_token","entity_nin"],"description":"Datos requeridos para crear una acción de consentimiento a través del endpoint REDEC","properties":{"action_token":{"type":"string","description":"Token de acción que contiene la información codificada del consentimiento","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."},"entity_nin":{"type":"string","description":"NIN (Número de Identificación Nacional) de la entidad","example":"12.345.678-5"},"executive_nin":{"type":"string","description":"NIN del ejecutivo que procesa la acción (opcional)","example":"11.111.111-1","nullable":true},"user_reference":{"type":"string","description":"Referencia del usuario en el sistema del cliente (se usa para crear o encontrar la entidad)","example":"redec-entity-123","nullable":true},"entity_id":{"type":"string","description":"ID de la entidad existente (alternativa a user_reference)","example":"ent_5F6Q6C2EwkXtkEpB1TlGjk","nullable":true},"consent_method":{"type":"object","description":"Información del método de captura del consentimiento","nullable":true,"properties":{"channel":{"type":"string","description":"Canal a través del cual se capturó el consentimiento","example":"ivr"},"capture_source":{"type":"string","description":"Fuente de la captura del consentimiento","example":"redec"},"metadata":{"type":"object","description":"Metadatos adicionales del método de consentimiento","additionalProperties":true,"example":{"medium":"ivr"}}}}},"title":"ConsentActionRedecInput"}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"201":{"description":"Consent action creado exitosamente","content":{"application/json":{"schema":{"type":"object","properties":{"consent_action":{"x-tags":["Consent actions"],"description":"Representa una acción de consentimiento realizada por un usuario","allOf":[{"x-tags":["Consent actions"],"type":"object","description":"Versión simplificada de la acción de consentimiento para listados. No incluye campos show-only para optimizar el tamaño de la respuesta.","properties":{"id":{"type":"string","description":"Identificador único de la acción de consentimiento","example":"consact_1B2M2Y8AsgTpgAmY7PhCfg"},"entity_id":{"type":"string","description":"Identificador de la entidad asociada. Puede ser nulo.","example":"ent_5F6Q6C2EwkXtkEpB1TlGjk","nullable":true},"user_reference":{"type":"string","description":"Referencia del usuario en el sistema del cliente","example":"user_123"},"consent_template_id":{"type":"string","description":"Identificador del template de consentimiento asociado.","example":"ctmpl_1B2M2Y8AsgTpgAmY7PhCfg"},"consent_commit_id":{"type":"string","description":"Identificador del commit de consentimiento asociado a este recurso, en caso de se haya originado a través de un commit. De lo contrario, es nulo.","example":"ccmt_1B2M2Y8AsgTpgAmY7PhCfg","nullable":true},"consent_template_name":{"type":"string","description":"Nombre de la plantilla de consentimiento asociado cuando no se expande la relación.","example":"Essential Services Template"},"context":{"type":"string","description":"Contexto adicional asociado a la acción de consentimiento","example":"web_signup","nullable":true},"kind":{"type":"string","description":"Tipo de acción realizada.","enum":["grant","revoke"],"example":"grant"},"data_use":{"type":"string","description":"Uso principal de datos asociado a la acción de consentimiento.","example":"essential"},"created_at":{"type":"string","format":"date-time","description":"Fecha y hora de creación de la acción de consentimiento","example":"2024-03-20T15:30:00Z"},"action_type":{"type":"string","description":"Tipo específico de acción","enum":["opt_in_click","voice_confirmation"],"example":"opt_in_click"},"action_data":{"type":"object","description":"Datos adicionales de la acción (máximo 4KB de tamaño serializado en JSON)","example":{"checkbox_id":"cb_123"}},"contextual_data":{"type":"object","description":"Datos contextuales como IP, user agent, etc.","properties":{"ip":{"type":"string","example":"192.168.1.1"},"user_agent":{"type":"string","example":"Mozilla/5.0"},"url":{"type":"string","example":"https://example.com"},"phone_number":{"type":"string","example":"+56912345678"}},"title":"ContextualData"}},"title":"ConsentActionIndex"},{"type":"object","properties":{"evidence_id":{"type":"string","description":"Identificador de la evidencia asociada al acuerdo generado por esta acción de consentimiento","example":"evd_wCntp5aXB5q7fKSthevwrw","nullable":true},"agreement_id":{"type":"string","description":"Identificador del acuerdo generado por esta acción de consentimiento","example":"agr_wCntp5aXB5q7fKSthevwrw","nullable":true},"agreement_version":{"type":"integer","description":"Versión del acuerdo generado por esta acción de consentimiento","example":1,"nullable":true},"data_categories":{"type":"array","description":"Lista de categorías de datos únicas cubiertas por el template de consentimiento asociado","items":{"type":"string"},"example":["user.name.first","user.contact.email"]}}}],"title":"ConsentAction"}}}}}},"400":{"description":"Error en la solicitud (parámetros faltantes o inválidos)","content":{"application/json":{"schema":{"type":"object","properties":{"type":{"type":"string","example":"invalid_request_error"},"title":{"type":"string","example":"Bad Request"},"status":{"type":"integer","example":400},"detail":{"type":"string","example":"The required parameter entity_nin is missing"}}}}}},"401":{"description":"Error de autenticación","content":{"application/json":{"schema":{"type":"object","required":["type","title","status","detail"],"properties":{"type":{"type":"string","example":"authentication_error"},"title":{"type":"string","example":"Unauthorized"},"status":{"type":"integer","example":401},"detail":{"type":"string","example":"We could not authenticate your credentials. Please check the documentation at https://docs.soyio.id"}}}}}},"422":{"description":"Error de validación","content":{"application/json":{"schema":{"type":"object","required":["type","title","status","errors"],"properties":{"type":{"type":"string","example":"validation_error"},"title":{"type":"string","example":"Validation error"},"status":{"type":"integer","example":422},"errors":{"type":"array","items":{"type":"string"}}},"title":"ValidationError"}}}}}}
>
  
</StatusCodes>


      