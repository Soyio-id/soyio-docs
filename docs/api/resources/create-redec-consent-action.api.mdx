---
id: create-redec-consent-action
title: "Crear un consent action para REDEC"
description: "Crea un nuevo consent action a través del endpoint REDEC. Este endpoint está diseñado"
sidebar_label: "Crear un consent action para REDEC"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/api/resources/soyio-api
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Crear un consent action para REDEC"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/redec/consent_actions"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Crea un nuevo consent action a través del endpoint REDEC. Este endpoint está diseñado
específicamente para registrar consentimientos en el contexto del cumplimiento normativo REDEC.

Debe proporcionar ya sea `entity_id` (para una entidad existente) o `user_reference` (para crear/encontrar una entidad).


<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["action_token","entity_nin"],"description":"Datos requeridos para crear una acción de consentimiento a través del endpoint REDEC","properties":{"action_token":{"type":"string","description":"Token de acción que contiene la información codificada del consentimiento","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."},"entity_nin":{"type":"string","description":"NIN (Número de Identificación Nacional) de la entidad","example":"12.345.678-5"},"executive_nin":{"type":"string","description":"NIN del ejecutivo que procesa la acción (opcional)","example":"11.111.111-1","nullable":true},"user_reference":{"type":"string","description":"Referencia del usuario en el sistema del cliente (se usa para crear o encontrar la entidad)","example":"redec-entity-123","nullable":true},"entity_id":{"type":"string","description":"ID de la entidad existente (alternativa a user_reference)","example":"ent_5F6Q6C2EwkXtkEpB1TlGjk","nullable":true},"consent_method":{"allOf":[{"type":"object","description":"Método de captura del consentimiento. Es **requerido** si se crea el [action token a través de nuestra API](/docs/api/resources/create-action-token). En caso de usar nuestro embed, no es necesario proveer este campo.","required":["channel"],"properties":{"channel":{"type":"string","description":"Canal de captura del consentimiento","enum":["website","chatbot","whatsapp"],"example":"website"},"capture_source":{"type":"string","description":"Nombre de la entidad plataforma usada para capturar el consentimiento","example":"Salesforce"},"metadata":{"type":"object","description":"Metadatos adicionales de la forma de captura del consentimiento. Pueden ser referencias a flujos completos (identificadores de chats, urls de tickets, etc.) o descripciones de la forma de captura.","example":{"details":"se le mostró al usuario el texto de consentimiento en un chatbot de whatsapp","chat_id":13928}}},"title":"EvidenceConsentMethod"},{"nullable":true}]}},"title":"ConsentActionRedecInput"}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"201":{"description":"Consent action creado exitosamente","content":{"application/json":{"schema":{"type":"object","properties":{"consent_action":{"x-tags":["Consent actions"],"description":"Representa una acción de consentimiento realizada por un usuario","allOf":[{"x-tags":["Consent actions"],"type":"object","description":"Versión simplificada de la acción de consentimiento para listados. No incluye campos show-only para optimizar el tamaño de la respuesta.","properties":{"id":{"type":"string","description":"Identificador único de la acción de consentimiento","example":"consact_1B2M2Y8AsgTpgAmY7PhCfg"},"entity_id":{"type":"string","description":"Identificador de la entidad asociada. Puede ser nulo.","example":"ent_5F6Q6C2EwkXtkEpB1TlGjk","nullable":true},"user_reference":{"type":"string","description":"Referencia del usuario en el sistema del cliente","example":"user_123"},"consent_template_id":{"type":"string","description":"Identificador del template de consentimiento asociado.","example":"ctmpl_1B2M2Y8AsgTpgAmY7PhCfg"},"consent_commit_id":{"type":"string","description":"Identificador del commit de consentimiento asociado a este recurso, en caso de se haya originado a través de un commit. De lo contrario, es nulo.","example":"ccmt_1B2M2Y8AsgTpgAmY7PhCfg","nullable":true},"consent_template_name":{"type":"string","description":"Nombre de la plantilla de consentimiento asociado cuando no se expande la relación.","example":"Essential Services Template"},"context":{"type":"string","description":"Contexto adicional asociado a la acción de consentimiento","example":"web_signup","nullable":true},"kind":{"type":"string","description":"Tipo de acción realizada.","enum":["grant","revoke"],"example":"grant"},"data_use":{"type":"string","description":"Uso principal de datos asociado a la acción de consentimiento.","example":"essential"},"created_at":{"type":"string","format":"date-time","description":"Fecha y hora de creación de la acción de consentimiento","example":"2024-03-20T15:30:00Z"},"action_type":{"type":"string","description":"Tipo específico de acción","enum":["opt_in_click","voice_confirmation"],"example":"opt_in_click"},"action_data":{"type":"object","description":"Datos adicionales de la acción (máximo 4KB de tamaño serializado en JSON)","example":{"checkbox_id":"cb_123"}},"contextual_data":{"type":"object","description":"Datos contextuales como IP, user agent, etc.","properties":{"ip":{"type":"string","example":"192.168.1.1"},"user_agent":{"type":"string","example":"Mozilla/5.0"},"url":{"type":"string","example":"https://example.com"},"phone_number":{"type":"string","example":"+56912345678"}},"title":"ContextualData"}},"title":"ConsentActionIndex"},{"type":"object","properties":{"evidence_id":{"type":"string","description":"Identificador de la evidencia asociada al acuerdo generado por esta acción de consentimiento","example":"evd_wCntp5aXB5q7fKSthevwrw","nullable":true},"agreement_id":{"type":"string","description":"Identificador del acuerdo generado por esta acción de consentimiento","example":"agr_wCntp5aXB5q7fKSthevwrw","nullable":true},"agreement_version":{"type":"integer","description":"Versión del acuerdo generado por esta acción de consentimiento","example":1,"nullable":true},"data_categories":{"type":"array","description":"Lista de categorías de datos únicas cubiertas por el template de consentimiento asociado","items":{"type":"string"},"example":["user.name.first","user.contact.email"]}}}],"title":"ConsentAction"}}}}}},"400":{"description":"Error en la solicitud (parámetros faltantes o inválidos)","content":{"application/json":{"schema":{"type":"object","properties":{"type":{"type":"string","example":"invalid_request_error"},"title":{"type":"string","example":"Bad Request"},"status":{"type":"integer","example":400},"detail":{"type":"string","example":"The required parameter entity_nin is missing"}}}}}},"401":{"description":"Error de autenticación","content":{"application/json":{"schema":{"type":"object","required":["type","title","status","detail"],"properties":{"type":{"type":"string","example":"authentication_error"},"title":{"type":"string","example":"Unauthorized"},"status":{"type":"integer","example":401},"detail":{"type":"string","example":"We could not authenticate your credentials. Please check the documentation at https://docs.soyio.id"}}}}}},"422":{"description":"Error de validación","content":{"application/json":{"schema":{"type":"object","required":["type","title","status","errors"],"properties":{"type":{"type":"string","example":"validation_error"},"title":{"type":"string","example":"Validation error"},"status":{"type":"integer","example":422},"errors":{"type":"array","items":{"type":"string"}}},"title":"ValidationError"}}}}}}
>
  
</StatusCodes>


      