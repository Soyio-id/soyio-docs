---
id: create-redec-consent-action
title: "Crear un consent action para REDEC"
description: "Crea un nuevo consent action a través del endpoint REDEC. Este endpoint está diseñado"
sidebar_label: "Crear un consent action para REDEC"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/api/resources/soyio-api
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Crear un consent action para REDEC"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/redec/consent_actions"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Crea un nuevo consent action a través del endpoint REDEC. Este endpoint está diseñado
específicamente para registrar consentimientos en el contexto del cumplimiento normativo REDEC.

Debe proporcionar ya sea `entity_id` (para una entidad existente) o `user_reference` (para crear/encontrar una entidad).


<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["action_token","entity_nin"],"description":"Datos requeridos para crear una acción de consentimiento a través del endpoint REDEC","properties":{"action_token":{"type":"string","description":"Token de acción que contiene la información codificada del consentimiento","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."},"entity_nin":{"type":"string","description":"NIN (Número de Identificación Nacional) de la entidad","example":"12.345.678-5"},"executive_nin":{"type":"string","description":"NIN del ejecutivo que procesa la acción (opcional)","example":"11.111.111-1","nullable":true},"user_reference":{"type":"string","description":"Referencia del usuario en el sistema del cliente (se usa para crear o encontrar la entidad)","example":"redec-entity-123","nullable":true},"entity_id":{"type":"string","description":"ID de la entidad existente (alternativa a user_reference)","example":"ent_5F6Q6C2EwkXtkEpB1TlGjk","nullable":true},"consent_method":{"type":"object","description":"Método de captura del consentimiento. **Solo es requerido** si se crea el [action token a través de nuestra API](/docs/api/resources/create-action-token). En caso de usar nuestro embed, este campo no es necesario y **será ignorado**.","nullable":true,"allOf":[{"type":"object","description":"Método de captura del consentimiento. Es **requerido** si se crea el [action token a través de nuestra API](/docs/api/resources/create-action-token). En caso de usar nuestro embed, este campo no es necesario y **será ignorado**.","required":["channel"],"properties":{"channel":{"type":"string","description":"Canal de captura del consentimiento","enum":["website","chatbot","whatsapp"],"example":"website"},"capture_source":{"type":"string","description":"Nombre de la entidad plataforma usada para capturar el consentimiento","example":"Salesforce"},"metadata":{"type":"object","description":"Metadatos adicionales de la forma de captura del consentimiento. Pueden ser referencias a flujos completos (identificadores de chats, urls de tickets, etc.) o descripciones de la forma de captura.","example":{"details":"se le mostró al usuario el texto de consentimiento en un chatbot de whatsapp","chat_id":13928}}},"title":"EvidenceConsentMethod"},{"nullable":true}]}},"title":"ConsentActionRedecInput"}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"201":{"description":"Consent action creado exitosamente","content":{"application/json":{"schema":{"type":"object","properties":{"consent_action":{"x-tags":["Consent actions"],"description":"Representa una acción de consentimiento realizada por un usuario","allOf":[{"x-tags":["Consent actions"],"type":"object","description":"Versión simplificada de la acción de consentimiento para listados. No incluye campos show-only para optimizar el tamaño de la respuesta.","properties":{"id":{"type":"string","description":"Identificador único de la acción de consentimiento","example":"consact_1B2M2Y8AsgTpgAmY7PhCfg"},"entity_id":{"type":"string","description":"Identificador de la entidad asociada. Puede ser nulo.","example":"ent_5F6Q6C2EwkXtkEpB1TlGjk","nullable":true},"user_reference":{"type":"string","description":"Referencia del usuario en el sistema del cliente","example":"user_123"},"consent_template_id":{"type":"string","description":"Identificador del template de consentimiento asociado.","example":"ctmpl_1B2M2Y8AsgTpgAmY7PhCfg"},"consent_commit_id":{"type":"string","description":"Identificador del commit de consentimiento asociado a este recurso, en caso de se haya originado a través de un commit. De lo contrario, es nulo.","example":"ccmt_1B2M2Y8AsgTpgAmY7PhCfg","nullable":true},"consent_template_name":{"type":"string","description":"Nombre de la plantilla de consentimiento asociado cuando no se expande la relación.","example":"Essential Services Template"},"context":{"type":"string","description":"Contexto adicional asociado a la acción de consentimiento","example":"web_signup","nullable":true},"kind":{"type":"string","description":"Tipo de acción realizada.","enum":["grant","revoke"],"example":"grant"},"data_use":{"type":"string","description":"Uso principal de datos asociado a la acción de consentimiento.","example":"essential"},"created_at":{"type":"string","format":"date-time","description":"Fecha y hora de creación de la acción de consentimiento","example":"2024-03-20T15:30:00Z"},"action_type":{"type":"string","description":"Tipo específico de acción","enum":["opt_in_click","voice_confirmation","physical_confirmation"],"example":"opt_in_click"},"action_data":{"type":"object","description":"Datos adicionales de la acción (máximo 4KB de tamaño serializado en JSON)","example":{"checkbox_id":"cb_123"}},"contextual_data":{"type":"object","description":"Datos contextuales como IP, user agent, etc.","properties":{"ip":{"type":"string","example":"192.168.1.1"},"user_agent":{"type":"string","example":"Mozilla/5.0"},"url":{"type":"string","example":"https://example.com"},"phone_number":{"type":"string","example":"+56912345678"}},"title":"ContextualData"}},"title":"ConsentActionIndex"},{"type":"object","properties":{"evidence_id":{"type":"string","description":"Identificador de la evidencia asociada al acuerdo generado por esta acción de consentimiento","example":"evd_wCntp5aXB5q7fKSthevwrw","nullable":true},"agreement_id":{"type":"string","description":"Identificador del acuerdo generado por esta acción de consentimiento","example":"agr_wCntp5aXB5q7fKSthevwrw","nullable":true},"agreement_version":{"type":"integer","description":"Versión del acuerdo generado por esta acción de consentimiento","example":1,"nullable":true},"data_categories":{"type":"array","description":"Lista de categorías de datos únicas cubiertas por el template de consentimiento asociado","items":{"type":"string"},"example":["user.name.first","user.contact.email"]}}}],"title":"ConsentAction"}}}}}},"400":{"description":"Error en la solicitud (parámetros faltantes o inválidos)","content":{"application/json":{"schema":{"type":"object","properties":{"type":{"type":"string","example":"invalid_request_error"},"title":{"type":"string","example":"Bad Request"},"status":{"type":"integer","example":400},"detail":{"type":"string","example":"The required parameter entity_nin is missing"}}}}}},"401":{"description":"Error de autenticación","content":{"application/json":{"schema":{"type":"object","required":["type","title","status","detail"],"properties":{"type":{"type":"string","example":"authentication_error"},"title":{"type":"string","example":"Unauthorized"},"status":{"type":"integer","example":401},"detail":{"type":"string","example":"We could not authenticate your credentials. Please check the documentation at https://docs.soyio.id"}}}}}},"422":{"description":"Error de validación","content":{"application/json":{"schema":{"type":"object","required":["type","title","status","errors"],"properties":{"type":{"type":"string","example":"validation_error"},"title":{"type":"string","example":"Validation error"},"status":{"type":"integer","example":422},"errors":{"type":"array","items":{"type":"string"}}},"title":"ValidationError"}}}}}}
>
  
</StatusCodes>


      