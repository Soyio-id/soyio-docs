---
id: create-redec-consent-action
title: "Crear un consent action para REDEC"
description: "Crea un nuevo consent action a través del endpoint REDEC. Este endpoint está diseñado"
sidebar_label: "Crear un consent action para REDEC"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/api/resources/soyio-api
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Crear un consent action para REDEC"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/redec/consent_actions"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Crea un nuevo consent action a través del endpoint REDEC. Este endpoint está diseñado
específicamente para registrar consentimientos en el contexto del cumplimiento normativo REDEC.

Debe proporcionar ya sea `entity_id` (para una entidad existente) o `user_reference` (para crear/encontrar una entidad).


<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["action_token","entity_nin"],"description":"Datos requeridos para crear una acción de consentimiento a través del endpoint REDEC","properties":{"action_token":{"type":"string","description":"Token de acción que contiene la información codificada del consentimiento","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."},"entity_nin":{"type":"string","description":"NIN (Número de Identificación Nacional) de la entidad","example":"12.345.678-5"},"executive_nin":{"type":"string","description":"NIN del ejecutivo que procesa la acción (opcional)","example":"11.111.111-1","nullable":true},"user_reference":{"type":"string","description":"Referencia del usuario en el sistema del cliente (se usa para crear o encontrar la entidad)","example":"redec-entity-123","nullable":true},"entity_id":{"type":"string","description":"ID de la entidad existente (alternativa a user_reference)","example":"ent_5F6Q6C2EwkXtkEpB1TlGjk","nullable":true},"consent_method":{"type":"object","description":"Método de captura del consentimiento. **Solo es requerido** si se crea el [action token a través de nuestra API](/docs/api/resources/create-action-token). En caso de usar nuestro embed, este campo no es necesario y **será ignorado**.","nullable":true,"allOf":[{"type":"object","description":"Método de captura del consentimiento. Es **requerido** si se crea el [action token a través de nuestra API](/docs/api/resources/create-action-token). En caso de usar nuestro embed, este campo no es necesario y **será ignorado**.","required":["channel"],"properties":{"channel":{"type":"string","description":"Canal de captura del consentimiento","enum":["website","chatbot","whatsapp"],"example":"website"},"capture_source":{"type":"string","description":"Nombre de la entidad plataforma usada para capturar el consentimiento","example":"Salesforce"},"metadata":{"type":"object","description":"Metadatos adicionales de la forma de captura del consentimiento. Pueden ser referencias a flujos completos (identificadores de chats, urls de tickets, etc.) o descripciones de la forma de captura.","example":{"details":"se le mostró al usuario el texto de consentimiento en un chatbot de whatsapp","chat_id":13928}}},"title":"EvidenceConsentMethod"},{"nullable":true}]}},"title":"ConsentActionRedecInput"}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"201":{"description":"Consent action creado exitosamente","content":{"application/json":{"schema":{"type":"object","properties":{"consent_action":{"x-tags":["Consent actions"],"description":"Representa una acción de consentimiento realizada por un usuario","allOf":[{"type":"object","description":"Versión simplificada de la acción de consentimiento para listados. No incluye campos show-only para optimizar el tamaño de la respuesta.","properties":{"id":{"type":"string","description":"Identificador único de la acción de consentimiento","example":"consact_1B2M2Y8AsgTpgAmY7PhCfg"},"entity_id":{"type":"string","description":"Identificador de la entidad asociada. Puede ser nulo.","example":"ent_5F6Q6C2EwkXtkEpB1TlGjk","nullable":true},"user_reference":{"type":"string","description":"Referencia del usuario en el sistema del cliente","example":"user_123"},"consent_template_id":{"type":"string","description":"Identificador del template de consentimiento asociado.","example":"ctmpl_1B2M2Y8AsgTpgAmY7PhCfg"},"consent_commit_id":{"type":"string","description":"Identificador del commit de consentimiento asociado a este recurso, en caso de se haya originado a través de un commit. De lo contrario, es nulo.","example":"ccmt_1B2M2Y8AsgTpgAmY7PhCfg","nullable":true},"consent_template_name":{"type":"string","description":"Nombre de la plantilla de consentimiento asociado cuando no se expande la relación.","example":"Essential Services Template"},"consent_template_version":{"type":"integer","description":"Versión de la plantilla de consentimiento asociada cuando no se expande la relación.","example":1},"context":{"type":"string","description":"Contexto adicional asociado a la acción de consentimiento","example":"web_signup","nullable":true},"kind":{"type":"string","description":"Tipo de acción realizada.","enum":["grant","revoke"],"example":"grant"},"data_use":{"type":"string","description":"Uso principal de datos asociado a la acción de consentimiento.","example":"essential"},"created_at":{"type":"string","format":"date-time","description":"Fecha y hora de creación de la acción de consentimiento","example":"2024-03-20T15:30:00Z"},"action_type":{"type":"string","description":"Tipo específico de acción","enum":["opt_in_click","voice_confirmation","physical_confirmation"],"example":"opt_in_click"},"action_data":{"type":"object","description":"Datos adicionales de la acción (máximo 4KB de tamaño serializado en JSON)","example":{"checkbox_id":"cb_123"}},"contextual_data":{"type":"object","description":"Datos contextuales como IP, user agent, etc.","properties":{"ip":{"type":"string","example":"192.168.1.1"},"user_agent":{"type":"string","example":"Mozilla/5.0"},"url":{"type":"string","example":"https://example.com"},"phone_number":{"type":"string","example":"+56912345678"}},"title":"ContextualData"}},"title":"ConsentActionIndex"},{"type":"object","properties":{"evidence_id":{"type":"string","description":"Identificador de la evidencia asociada al acuerdo generado por esta acción de consentimiento","example":"evd_wCntp5aXB5q7fKSthevwrw","nullable":true},"agreement_id":{"type":"string","description":"Identificador del acuerdo generado por esta acción de consentimiento","example":"agr_wCntp5aXB5q7fKSthevwrw","nullable":true},"agreement_version":{"type":"integer","description":"Versión del acuerdo generado por esta acción de consentimiento","example":1,"nullable":true},"data_categories":{"type":"array","description":"Lista de categorías de datos únicas cubiertas por el template de consentimiento asociado","items":{"type":"string"},"example":["user.name.first","user.contact.email"]}}}],"title":"ConsentAction"}}}}}},"400":{"description":"Error en la solicitud (parámetros faltantes o inválidos)","content":{"application/json":{"schema":{"type":"object","properties":{"type":{"type":"string","example":"invalid_request_error"},"title":{"type":"string","example":"Bad Request"},"status":{"type":"integer","example":400},"detail":{"type":"string","example":"The required parameter entity_nin is missing"}}}}}},"401":{"description":"Error de autenticación","content":{"application/json":{"schema":{"type":"object","required":["type","title","status","detail"],"properties":{"type":{"type":"string","example":"authentication_error"},"title":{"type":"string","example":"Unauthorized"},"status":{"type":"integer","example":401},"detail":{"type":"string","example":"We could not authenticate your credentials. Please check the documentation at https://docs.soyio.id"}}}}}},"422":{"description":"Error de validación","content":{"application/json":{"schema":{"type":"object","required":["type","title","status","errors"],"properties":{"type":{"type":"string","example":"validation_error"},"title":{"type":"string","example":"Validation error"},"status":{"type":"integer","example":422},"errors":{"type":"array","items":{"type":"string"}}},"title":"ValidationError"}}}}}}
>
  
</StatusCodes>


      