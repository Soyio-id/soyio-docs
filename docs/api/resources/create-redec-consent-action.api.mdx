---
id: create-redec-consent-action
title: "Crear un consent action para REDEC"
description: "Crea un nuevo consent action a través del endpoint REDEC. Este endpoint está diseñado"
sidebar_label: "Crear un consent action para REDEC"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/api/resources/soyio-api
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Crear un consent action para REDEC"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/redec/consent_actions"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Crea un nuevo consent action a través del endpoint REDEC. Este endpoint está diseñado
específicamente para registrar consentimientos en el contexto del cumplimiento normativo REDEC.

Debe proporcionar ya sea `entity_id` (para una entidad existente) o `user_reference` (para crear/encontrar una entidad).


<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["action_token","entity_nin"],"description":"Datos requeridos para crear una acción de consentimiento a través del endpoint REDEC","properties":{"action_token":{"type":"string","description":"Token de acción que contiene la información codificada del consentimiento","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."},"entity_nin":{"type":"string","description":"NIN (Número de Identificación Nacional) de la entidad","example":"12.345.678-5"},"executive_nin":{"type":"string","description":"NIN del ejecutivo que procesa la acción (opcional)","example":"11.111.111-1","nullable":true},"user_reference":{"type":"string","description":"Referencia del usuario en el sistema del cliente (se usa para crear o encontrar la entidad)","example":"redec-entity-123","nullable":true},"entity_id":{"type":"string","description":"ID de la entidad existente (alternativa a user_reference)","example":"ent_5F6Q6C2EwkXtkEpB1TlGjk","nullable":true},"consent_method":{"type":"object","description":"Método de captura del consentimiento. **Solo es requerido** si se crea el [action token a través de nuestra API](/docs/api/resources/create-action-token). En caso de usar nuestro embed, este campo no es necesario y **será ignorado**.","nullable":true,"allOf":[{"type":"object","description":"Método de captura del consentimiento. Es **requerido** si se crea el [action token a través de nuestra API](/docs/api/resources/create-action-token). En caso de usar nuestro embed, este campo no es necesario y **será ignorado**.","required":["channel"],"properties":{"channel":{"type":"string","description":"Canal de captura del consentimiento","enum":["website","chatbot","whatsapp"],"example":"website"},"capture_source":{"type":"string","description":"Nombre de la entidad plataforma usada para capturar el consentimiento","example":"Salesforce"},"metadata":{"type":"object","description":"Metadatos adicionales de la forma de captura del consentimiento. Pueden ser referencias a flujos completos (identificadores de chats, urls de tickets, etc.) o descripciones de la forma de captura.","example":{"details":"se le mostró al usuario el texto de consentimiento en un chatbot de whatsapp","chat_id":13928}}},"title":"EvidenceConsentMethod"},{"nullable":true}]}},"title":"ConsentActionRedecInput"}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"201":{"description":"Consent action creado exitosamente","content":{"application/json":{"schema":{"type":"object","properties":{"consent_action":{"x-tags":["Consent actions"],"description":"Representa una acción de consentimiento realizada por un usuario","allOf":[{"x-tags":["Consent actions"],"type":"object","description":"Versión simplificada de la acción de consentimiento para listados. No incluye campos show-only para optimizar el tamaño de la respuesta.","properties":{"id":{"type":"string","description":"Identificador único de la acción de consentimiento","example":"consact_1B2M2Y8AsgTpgAmY7PhCfg"},"entity_id":{"type":"string","description":"Identificador de la entidad asociada. Puede ser nulo.","example":"ent_5F6Q6C2EwkXtkEpB1TlGjk","nullable":true},"user_reference":{"type":"string","description":"Referencia del usuario en el sistema del cliente","example":"user_123"},"consent_template_id":{"type":"string","description":"Identificador del template de consentimiento asociado.","example":"ctmpl_1B2M2Y8AsgTpgAmY7PhCfg"},"consent_commit_id":{"type":"string","description":"Identificador del commit de consentimiento asociado a este recurso, en caso de se haya originado a través de un commit. De lo contrario, es nulo.","example":"ccmt_1B2M2Y8AsgTpgAmY7PhCfg","nullable":true},"consent_template_name":{"type":"string","description":"Nombre de la plantilla de consentimiento asociado cuando no se expande la relación.","example":"Essential Services Template"},"context":{"type":"string","description":"Contexto adicional asociado a la acción de consentimiento","example":"web_signup","nullable":true},"kind":{"type":"string","description":"Tipo de acción realizada.","enum":["grant","revoke"],"example":"grant"},"data_use":{"type":"string","description":"Uso principal de datos asociado a la acción de consentimiento.","example":"essential"},"created_at":{"type":"string","format":"date-time","description":"Fecha y hora de creación de la acción de consentimiento","example":"2024-03-20T15:30:00Z"},"action_type":{"type":"string","description":"Tipo específico de acción","enum":["opt_in_click","voice_confirmation","physical_confirmation"],"example":"opt_in_click"},"action_data":{"type":"object","description":"Datos adicionales de la acción (máximo 4KB de tamaño serializado en JSON)","example":{"checkbox_id":"cb_123"}},"contextual_data":{"type":"object","description":"Datos contextuales como IP, user agent, etc.","properties":{"ip":{"type":"string","example":"192.168.1.1"},"user_agent":{"type":"string","example":"Mozilla/5.0"},"url":{"type":"string","example":"https://example.com"},"phone_number":{"type":"string","example":"+56912345678"}},"title":"ContextualData"}},"title":"ConsentActionIndex"},{"type":"object","properties":{"evidence_id":{"type":"string","description":"Identificador de la evidencia asociada al acuerdo generado por esta acción de consentimiento","example":"evd_wCntp5aXB5q7fKSthevwrw","nullable":true},"agreement_id":{"type":"string","description":"Identificador del acuerdo generado por esta acción de consentimiento","example":"agr_wCntp5aXB5q7fKSthevwrw","nullable":true},"agreement_version":{"type":"integer","description":"Versión del acuerdo generado por esta acción de consentimiento","example":1,"nullable":true},"data_categories":{"type":"array","description":"Lista de categorías de datos únicas cubiertas por el template de consentimiento asociado","items":{"type":"string"},"example":["user.name.first","user.contact.email"]}}}],"title":"ConsentAction"}}}}}},"400":{"description":"Error en la solicitud (parámetros faltantes o inválidos)","content":{"application/json":{"schema":{"type":"object","properties":{"type":{"type":"string","example":"invalid_request_error"},"title":{"type":"string","example":"Bad Request"},"status":{"type":"integer","example":400},"detail":{"type":"string","example":"The required parameter entity_nin is missing"}}}}}},"401":{"description":"Error de autenticación","content":{"application/json":{"schema":{"type":"object","required":["type","title","status","detail"],"properties":{"type":{"type":"string","example":"authentication_error"},"title":{"type":"string","example":"Unauthorized"},"status":{"type":"integer","example":401},"detail":{"type":"string","example":"We could not authenticate your credentials. Please check the documentation at https://docs.soyio.id"}}}}}},"422":{"description":"Error de validación","content":{"application/json":{"schema":{"type":"object","required":["type","title","status","errors"],"properties":{"type":{"type":"string","example":"validation_error"},"title":{"type":"string","example":"Validation error"},"status":{"type":"integer","example":422},"errors":{"type":"array","items":{"type":"string"}}},"title":"ValidationError"}}}}}}
>
  
</StatusCodes>


      