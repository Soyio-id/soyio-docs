---
id: get-entity-session-token-by-reference
title: "Obtener un token de sesión usando el user_reference de la entidad"
description: "Igual que el endpoint anterior, pero identificando la entidad por su `user_reference` registrado en tu empresa."
sidebar_label: "Obtener un token de sesión usando el user_reference de la entidad"
hide_title: true
hide_table_of_contents: true
api: eJztV9ty2zYQ/RUMXmLPMLo4dqbRZDJ1HMdDJbJTX+JbPC4ErCRIJMAAoCxaw4/pB/Spn5Af6yxIibq4bjztQ6etHyxSAha75xwsDqbUsb6lrWu6r5x0Eiy9CagAy41MnNSKtmjYT1lEvqZAICKgRKKlcoQpB0ZqE5AEjCZSgHKyJzlTQpOIEXwVTJBEG2JT8nNqwdwa6IEBxeFnYqAvrTNMaAKKuJRAnBiwrPZFfVEnkihNYCKtA5KqKhrXioCFtXAB4QaYgVhbwlKn42+/OMlZDGolQMIMW1jNl2GJANIHBYYZrNHpEajaF0UDqhMwDHEIBW3RPjgPU3YC1kqtTnHg2+x4lgYNKMaPwYFBUKdUsRhoiy5nSwMqEdiEuQFdRXt5KGFWc4kgsUVQEWyjMe2qFBpQA19TaUDQljMpBNTyAcSMtqbUZQnmYZ2Rqk/zgMKExUmE38HEgVEseo4rP29uvaD5DYayiVYWLM7eajTwYzlRX3wJm/BkOW1LxDcsEAOpk5G8X0q8oBSHaGLBk+bpUSmMGbEV7d9+ZZs0oFwrHI6rsySJJPdk1IcWU5iuF6i7Q+AOeTBInRc0/oq5ruOwin1RUvv8tJAJ4xwEGMLmqrdegCziDLkRMKuLLgGatQfdAy6PZDs8uw+bhzK0oTre4Xvhy3CUXHzea7+qQdYedread5fnOzsXW9EoHGp5ufXK8fc/TDrDTuPw9PLF0bvRXSjv5NX5ToNdHM/H4fvF/fu9zqiRnZ8O3vItccYPxNvu59GLs4PBu6uYy4977fvLrVd3Vyfhy/MsHJcxkquLzviDbIuPe+3k8uIneTTcb3ZOL7PO/eiuMwxtGH/exkQ7p2eTw2HY6LzbzTqqUZuVl/u/gG4/JIl9Y7RBWKyOJJcuFeQ56bHIeQ1I1dMmZlx++00RlCoYKdhTSF5e7Rh4aqz2klEYA3X4VzRTbZ/r4reAOuki/LSOudR6wTgmI2ySKwrzsdYFVslCqjGLpLj1lVt3CwgWbsVijUfnHoPVqeFAlHakp1MlcGKZVDVTKgd9MItTtxvb+TzrR9fY02kk1DNHelIJ8tqUS74hd9INiBTk2Wsp3jyrkU8RMNy7A+AjkunUkLIkwpQgzmSE9ZlUNK9qo4favce0vUJOCgbySkvNR7TEUmRT8kI4/1x+WeoGRaKYzpPoPVM4WRt5D08gtvmdxJ4D4citF89CllCQxw34s5tFdoVbNwAiNE+xp/uiCHNk4FxiW/W60NzWrM6krkmx0Ba2/9+o/8qNGlCLNEqXeWPDEnk7Any+QbsQgxvo0iJ5F+QGtEXrUJrK+tzQ1KfLBiev28JL3RZnNC5jxjP7lJqItuhMcpYp0dWTuerqLJH1cXPtGD8BM5ai6B6JSaHLLNkoJ2/SPFiNy5LkiTG1SHlxjm0ULzhq0xunGUoeu0Jyc6zmrLJEfoBsbZF9+zWFmK13PRKDkGzmZXc/hWQEGeaRaMOlVkygR0HvOgCGlkUAiZitzmGwNRrM3Ohu2Wz8dpuZ0WKit4be4t4u8/L35F5Ya++w0CWA9QMqH7VUkv7TksjJzLeT1PqLx+INpVLfUikkI06CKqAUqSmzFECaOySWKnX6u8HK8b2nPTrlBjpBISFFawghbQIi4qXEpbfvoagsPfFTy77IuO+LEPt2QC3C4uDHquEGFHdJEblZa9Qa+FWirYuZZ6tM/6jrEKAK+wXcK8xWLh0e6gVvu1THtOrb/+mrYbkdHExcPYl8Hw2KxjIt+981nSnQn1nV7a+1dh9c3mw3AR1o6zDCdNplFs5MlOf4NZpm33QDOmZGsi5q7npKhbT4LGirxyILj1C2cVwenpurrD/pqvlg9bMOobA9jFmU4hsNqG9+q5fg/CYPZhsJSygG7XIOiVuYvuYMlo6bg/1TGnjrtdyhRr5DlQ8Y/cHUVvd2kQL+x0PiwSnTadH/8nw+vvjpD2eUJc5GI1I3eZ7/DocEKlQ=
sidebar_class_name: "get api-method"
info_path: docs/api/resources/soyio-api
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Obtener un token de sesión usando el user_reference de la entidad"}
>
</Heading>

<MethodEndpoint
  method={"get"}
  path={"/entities/reference/{user_reference}/session_token"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Igual que el endpoint anterior, pero identificando la entidad por su `user_reference` registrado en tu empresa.

Si no existe una entidad con ese `user_reference`, crearemos automáticamente una entidad para tu empresa antes de generar el token.


<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"name":"user_reference","in":"path","description":"user_reference asociado a la entidad dentro de tu empresa","required":true,"schema":{"type":"string"},"example":"external-user-123"}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={undefined}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Token generado exitosamente (se reutiliza la entidad existente o se crea una nueva si no existía)","content":{"application/json":{"schema":{"type":"object","properties":{"token":{"type":"string","description":"Token JWT para acceder a endpoints con alcance de entidad","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJjb21wYW55X2lkIjoiY29tcF8xMjM0NTY3ODkwIiwiZW50aXR5X2lkIjoiZW50XzFCMk0yWThBc2dUcGdBbVk3UGhDZmciLCJzY29wZSI6WyIvZW50aXRpZXMvKiJdLCJpYXQiOjE1MTYyMzkwMjIsImV4cCI6MTUxNjI0MDAyMn0.example"}}}}}},"400":{"description":"Error de solicitud - falta la información requerida","content":{"application/json":{"schema":{"description":"Recurso no encontrado","content":{"application/json":{"schema":{"type":"object","required":["type","title","status","detail"],"properties":{"type":{"type":"string","example":"invalid_request_error"},"title":{"type":"string","example":"Resource not found"},"status":{"type":"integer","example":404},"detail":{"type":"string","example":"Couldn't find <resource> with id '<id>'. Please check your request and try again"}},"title":"NotFoundErrorSchema"}}}}}}},"401":{"description":"Error de autenticación","content":{"application/json":{"schema":{"type":"object","required":["type","title","status","detail"],"properties":{"type":{"type":"string","example":"authentication_error"},"title":{"type":"string","example":"Unauthorized"},"status":{"type":"integer","example":401},"detail":{"type":"string","example":"We could not authenticate your credentials. Please check the documentation at https://docs.soyio.id"}}}}}},"404":{"description":"Recurso no encontrado","content":{"application/json":{"schema":{"type":"object","required":["type","title","status","detail"],"properties":{"type":{"type":"string","example":"invalid_request_error"},"title":{"type":"string","example":"Resource not found"},"status":{"type":"integer","example":404},"detail":{"type":"string","example":"Couldn't find <resource> with id '<id>'. Please check your request and try again"}},"title":"NotFoundErrorSchema"}}}}}}
>
  
</StatusCodes>


      