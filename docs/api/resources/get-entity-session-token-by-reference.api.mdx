---
id: get-entity-session-token-by-reference
title: "Obtener un token de sesión usando el user_reference de la entidad"
description: "Igual que el endpoint anterior, pero identificando la entidad por su `user_reference` registrado en tu empresa."
sidebar_label: "Obtener un token de sesión usando el user_reference de la entidad"
hide_title: true
hide_table_of_contents: true
api: eJztV+1u2zYUfRWCf5oAqj/SpFiNolibJoG8OukSp85Hg5Qmr23aEqmSlBPF0MPsAfZrj9AXGy4lW/4osgUDhmGb/9iSyct7zzm8PJxRx4aWtq7pgXLSSbD0JqACLDcycVIr2qLhMGUR+ZoCgYiAEomWyhGmHBipTUASMJpIAcrJgeRMCU0iRvBRMEESbYhNyZfUgrk1MAADisMXYmAorTNMaAKKuJRAnBiwrPZZfVZnkihN4F5aByRVVTSuFQELG+ECwg0wA7G2hKVOx99+cZKzGNRagIQZtrSaL8MSAWQICgwzWKPTE1C1z4oGVCdgGOIQCtqiQ3AepuwMrJVadXHgu+x0ngYNKMaPwYFBUGdUsRhoi65mSwMqEdiEuRFdR3t1KGFWc4kgsWVQEWyjMe2qFBpQA19TaUDQljMpBNTyEcSMtmbUZQnmYZ2RakjzgMI9i5MI38G9A6NY9BxXft7ceUHzGwxlE60sWJy902jg12qivvgSNuHJctqWiG9ZIAZSJyP5sJJ4QSkO0cSCJ83To1KYMmIr2r/9yrZpQLlWOBxXZ0kSSe7JqI8tpjDbLFD3x8Ad8mCQOi9o/Bdz3cRhHfuipHavW8iEcQ4CDGEL1VsvQBZxhtwImNdFVwDN2qP+EZcnsh2eP4TNYxnaUJ3u8f3wZThJLj7tt1/VIGuP+zvNu8ve3t7FTjQJx1pe7rxy/PCH+8640zjuXr44eT+5C+WdvOrtNdjF6WIcPl88HO53Jo2s1x294zvinB+Jd/1PkxfnR6P3VzGXH/bbD5c7r+6uzsKXvSycljGSq4vO9CfZFh/228nlxc/yZHzQ7HQvs87D5K4zDm0Yf9rFRDvd8/vjcdjovH+bdVSjNi8v95+A7n5PEgfGaIOwWB1JLl0qyHMyYJHzGpBqoE3MuPz2myIoVTBSsKeQvLraKfDUWO0lozAG6vCvaKbaPtfFfwF10kX4bR1zqfWCcUxG2CTXFOZjbQqskoVUUxZJcesrt+4WECzcisUaj849BatTw4Eo7chAp0rgxDKpaqZUDoZglqfuNnbzRdaPrrGv00ioZ44MpBLktSmXfEPupBsRKciz11K8eVYjHyNguHdHwCck06khZUmEKUGcyQgbMqloXtVGj7U7xLS9Qs4KBvJKS81HtMRSZFPyQjj/XH5Z6kZFopjOk+g9VzhZG/kATyC2+SeJ7QHhyK0Xz1KWUJDHDfizm0V2jVs3AiI0T7Gn+6IIc2TkXGJb9brQ3NaszqSuSbHUFnb/36j/yo0aUIs0Spd5Y8MSeTsB/H2DdiEGN9KlRfIuyI1oi9ahNJX1haGpz1YNTl63hZe6Lc5oXMZM5/YpNRFt0bnkLFOir+8XqquzRNanzY1j/AzMVIqieyQmhT6zZKucvE3zYD0uS5InxtQi5cU5tlU84Khtb5zmKHnsCsktsFqwiivT0p/hcx+9K8qh+HGI56SjLdrudTcyObBfU4jZZmskMQjJ5ob37ceQTCDDZBNtuNSKCTQyaHBHwNDXCCARs9VhDbbmraG3uLervPyNuRf+29swtBJg/YDKbK2UpP+wJHI2N/cktf52snyNqSS6Ui/JiJOgCihFasosBZDmHomlSp1GsHJ08gPt0Sk30BkKCdHfKB4ZERARLyUuvX0PRWXpiZ9a9kXGfV+E2LcDarFiBz9WDTeguEuKyM1ao9bAV4m2LmaerfLmcdJ3WHsF6xKkFRxrlw6P4pK3XaljVvXt//TVsNwODu5dPYl8Hw2KxjIr+981nYvLn1nV7a+1cR9c3Ww3AR1p6zDCbNZnFs5NlOf4Gk2zb7oBnTIjWR81dz2jQlr8LWhrwCILj1C2dVoentvrrD/pqvnd6suXTGUU84tSfKIB9c1v/RKc3+QBLbatL6EY9JZzSNzS9A1nsHLcHB1gk0FTs9Sh1jqSj/7d1GazYoS/9+X5ItOChfwmz/PfAVxxDWU=
sidebar_class_name: "get api-method"
info_path: docs/api/resources/soyio-api
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Obtener un token de sesión usando el user_reference de la entidad"}
>
</Heading>

<MethodEndpoint
  method={"get"}
  path={"/entities/reference/{user_reference}/session_token"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Igual que el endpoint anterior, pero identificando la entidad por su `user_reference` registrado en tu empresa.

Si no existe una entidad con ese `user_reference`, crearemos automáticamente una entidad para tu empresa antes de generar el token.


<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"name":"user_reference","in":"path","description":"user_reference asociado a la entidad dentro de tu empresa","required":true,"schema":{"type":"string"},"example":"external-user-123"}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={undefined}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Token generado exitosamente (se reutiliza la entidad existente o se crea una nueva si no existía)","content":{"application/json":{"schema":{"type":"object","properties":{"token":{"type":"string","description":"Token JWT para acceder a endpoints con alcance de entidad","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJjb21wYW55X2lkIjoiY29tcF8xMjM0NTY3ODkwIiwiZW50aXR5X2lkIjoiZW50XzFCMk0yWThBc2dUcGdBbVk3UGhDZmciLCJzY29wZSI6WyIvZW50aXRpZXMvKiJdLCJpYXQiOjE1MTYyMzkwMjIsImV4cCI6MTUxNjI0MDAyMn0.example"}}}}}},"400":{"description":"Error de solicitud - falta la información requerida","content":{"application/json":{"schema":{"description":"Recurso no encontrado","content":{"application/json":{"schema":{"type":"object","required":["type","title","status","detail"],"properties":{"type":{"type":"string","example":"invalid_request_error"},"title":{"type":"string","example":"Resource not found"},"status":{"type":"integer","example":404},"detail":{"type":"string","example":"Couldn't find <resource> with id '<id>'. Please check your request and try again"}},"title":"NotFoundErrorSchema"}}}}}}},"401":{"description":"Error de autenticación","content":{"application/json":{"schema":{"type":"object","required":["type","title","status","detail"],"properties":{"type":{"type":"string","example":"authentication_error"},"title":{"type":"string","example":"Unauthorized"},"status":{"type":"integer","example":401},"detail":{"type":"string","example":"We could not authenticate your credentials. Please check the documentation at https://docs.soyio.id"}}}}}},"404":{"description":"Recurso no encontrado","content":{"application/json":{"schema":{"type":"object","required":["type","title","status","detail"],"properties":{"type":{"type":"string","example":"invalid_request_error"},"title":{"type":"string","example":"Resource not found"},"status":{"type":"integer","example":404},"detail":{"type":"string","example":"Couldn't find <resource> with id '<id>'. Please check your request and try again"}},"title":"NotFoundErrorSchema"}}}}}}
>
  
</StatusCodes>


      